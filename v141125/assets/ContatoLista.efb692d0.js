import{_ as de,r as x,au as me,o as u,p as L,f as t,w as a,S as k,T as f,j as C,k as d,H as j,d as m,e as p,P as se,bJ as fe,F as z,x as F,aN as ne,C as w,U as g,t as b,m as q,Q,bf as pe,N as be,l as he,du as ve}from"./index.8f3585ce.js";import{X as G}from"./xlsx.53df8767.js";import{L as ge}from"./Lista.d06bc95c.js";import{m as ye}from"./ContatoModalFicha.88d0e14d.js";import{C as ke}from"./ContatoCombinar.48c3a2e4.js";import"./ContatoFicha.e12f0599.js";import"./open-url.0dbfb71d.js";import"./Icone.86613ab0.js";import"./SeletorPais.fb905b53.js";const Ce={components:{Lista:ge,ContatoModalFicha:ye,ContatoCombinar:ke},data(){return{usuario:"",mostrarFiltroVendedores:!1,width:0,lista:[],listaLayout:{},mostrar:{header:!0,barraTopo:!0,toolbarTitulo:!0,icone:"group",titulo:"Contatos",buscar:!0,filtroAvancado:!0,btnAjuda:!0,btnAtualizar:!0,btnNovo:!0,toolbarAcoes:!0,checkBox:!1,btnRemover:!1,btnRestaurar:!1,centralizaTabs:!1,btnDetalhes:!0,btnExportaXLS:!0,btnMenuMais:!0,toolbarAdicao:!1,bannerMsg:"",conexao:{icone:"hibrido",iconeTamanho:"xs",cor:"grey-5",rotulo:null,dica:"H\xEDbrido",denso:!0,flat:!0,escuro:!1}},busca:"",filtrosOriginal:{},filtros:{nome:null,numeroDocumentoNacional:null,telefone:null,bairro:null,municipio:null,uf:null,grupo:null,segmento:null,idContatoVendedor:null,ordenacao:"apelido",direcao:"asc"},opcoesEstados:[{label:"Acre (AC)",value:"AC"},{label:"Alagoas (AL)",value:"AL"},{label:"Amap\xE1 (AP)",value:"AP"},{label:"Amazonas (AM)",value:"AM"},{label:"Bahia (BA)",value:"BA"},{label:"Cear\xE1 (CE)",value:"CE"},{label:"Distrito Federal (DF)",value:"DF"},{label:"Esp\xEDrito Santo (ES)",value:"ES"},{label:"Goi\xE1s (GO)",value:"GO"},{label:"Maranh\xE3o (MA)",value:"MA"},{label:"Mato Grosso (MT)",value:"MT"},{label:"Mato Grosso do Sul (MS)",value:"MS"},{label:"Minas Gerais (MG)",value:"MG"},{label:"Par\xE1 (PA)",value:"PA"},{label:"Para\xEDba (PB)",value:"PB"},{label:"Paran\xE1 (PR)",value:"PR"},{label:"Pernambuco (PE)",value:"PE"},{label:"Piau\xED (PI)",value:"PI"},{label:"Rio de Janeiro (RJ)",value:"RJ"},{label:"Rio Grande do Norte (RN)",value:"RN"},{label:"Rio Grande do Sul (RS)",value:"RS"},{label:"Rond\xF4nia (RO)",value:"RO"},{label:"Roraima (RR)",value:"RR"},{label:"Santa Catarina (SC)",value:"SC"},{label:"S\xE3o Paulo (SP)",value:"SP"},{label:"Sergipe (SE)",value:"SE"},{label:"Tocantins (TO)",value:"TO"}],opcoesGrupos:[],opcoesSegmento:[],opcoesVendedores:[],ordenacaoOpcoes:[{value:"nome",label:"Raz\xE3o Social (nome)"},{value:"apelido",label:"Nome Fantasia (apelido)"},{value:"dataAbertura",label:"Data de Nascimento/Abertura"},{value:"dataCadastro",label:"Data de Cadastro"}],direcaoOpcoes:[{value:"asc",label:"Crescente"},{value:"desc",label:"Decrescente"}],tabSelecionada:{valor:"Ativos"},tabs:[{valor:"Ativos",rotulo:"Ativos"},{valor:"Excluidos",rotulo:"Inativos"},{valor:"",rotulo:"Todos"}],detalhes:!1,checkBox:!1,paginacao:{atual:1,maximo:1,total:1,limite:25},tiposEnderecos:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"Cobran\xE7a",value:"Cobran\xE7a",icon:"attach_money"},{label:"Comercial",value:"Comercial",icon:"business"},{label:"Correspond\xEAncia",value:"Correspond\xEAncia",icon:"mail"},{label:"Entrega",value:"Entrega",icon:"local_shipping"},{label:"Instala\xE7\xE3o",value:"Instala\xE7\xE3o",icon:"build"},{label:"Residencial",value:"Residencial",icon:"store_mall_directory"},{label:"Outros",value:"Outros",icon:"location_city"}],tiposTelefones:[{label:"Principal",value:"Principal",icon:"star",color:"orange"},{label:"WhatsApp",value:"WhatsApp",icon:"mdi-whatsapp"},{label:"Celular",value:"Celular",icon:"phone_iphone"},{label:"Comercial",value:"Comercial",icon:"phone"},{label:"Fixo",value:"Fixo",icon:"phone"}],copiaEmail:"",combinarContatos:!1}},methods:{async atualizar(i){var e,c,S,l,n,h,A,P,y,V,O,I,B,T,D,o,E,r,v,U,J,X,H,W,Y,K,Z,$,ee,oe,ae,te;try{$q.loading.show(),this.lista=[],this.tabSelecionadaAnt!==this.tabSelecionada.valor&&(this.paginacao.atual=1),this.tabSelecionadaAnt=this.tabSelecionada.valor;let{buscarDadosRecentes:le}=i!=null?i:{},s={},N={};le&&(s=await $utils.localIDB.getItem({objectStore:"dadosRecentes",id:"ContatoLista_"+((e=this.usuario)==null?void 0:e.id)}),s!=null&&s._id&&(this.tabSelecionada.valor=(s==null?void 0:s.tabSelecionada)||"Ativos",this.busca=(s==null?void 0:s.busca)||"",this.filtros={nome:((c=s==null?void 0:s.filtros)==null?void 0:c.nome)||null,numeroDocumentoNacional:((S=s==null?void 0:s.filtros)==null?void 0:S.numeroDocumentoNacional)||null,telefone:((l=s==null?void 0:s.filtros)==null?void 0:l.telefone)||null,bairro:((n=s==null?void 0:s.filtros)==null?void 0:n.bairro)||null,municipio:((h=s==null?void 0:s.filtros)==null?void 0:h.municipio)||null,uf:((A=s==null?void 0:s.filtros)==null?void 0:A.uf)||null,grupo:((P=s==null?void 0:s.filtros)==null?void 0:P.grupo)||null,segmento:((y=s==null?void 0:s.filtros)==null?void 0:y.segmento)||null,idContatoVendedor:((V=s==null?void 0:s.filtros)==null?void 0:V.idContatoVendedor)||null,ordenacao:((O=s==null?void 0:s.filtros)==null?void 0:O.ordenacao)||"apelido",direcao:((I=s==null?void 0:s.filtros)==null?void 0:I.direcao)||"asc"},this.compareObject(this.filtrosOriginal,this.filtros,["ativo","ordenacao","direcao"])&&(this.$refs.contatoLista.filtros=!0))),this.filtros={nome:(T=(B=this.filtros)==null?void 0:B.nome)==null?void 0:T.trim(),numeroDocumentoNacional:(o=(D=this.filtros)==null?void 0:D.numeroDocumentoNacional)==null?void 0:o.trim(),telefone:(r=(E=this.filtros)==null?void 0:E.telefone)==null?void 0:r.trim(),bairro:(U=(v=this.filtros)==null?void 0:v.bairro)==null?void 0:U.trim(),municipio:(X=(J=this.filtros)==null?void 0:J.municipio)==null?void 0:X.trim(),uf:(W=(H=this.filtros)==null?void 0:H.uf)==null?void 0:W.trim(),grupo:(K=(Y=this.filtros)==null?void 0:Y.grupo)==null?void 0:K.trim(),segmento:($=(Z=this.filtros)==null?void 0:Z.segmento)==null?void 0:$.trim(),idContatoVendedor:(ee=this.filtros)==null?void 0:ee.idContatoVendedor,ordenacao:(oe=this.filtros)==null?void 0:oe.ordenacao,direcao:(ae=this.filtros)==null?void 0:ae.direcao},this.filtros=$utils.eliminarVazios(this.filtros),delete this.filtros.ativo,this.mostrar.checkBox=!1,this.tabSelecionada.valor==="Ativos"&&(this.filtros.ativo=!0,this.mostrar.checkBox=!0),this.tabSelecionada.valor==="Excluidos"&&(this.filtros.ativo=!1,this.mostrar.checkBox=!0),N=$utils.clonar(this.filtros),this.busca&&(this.paginacao.atual=1,/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(this.busca)?(this.tabSelecionada.valor="",N={id:this.busca}):N.termoBusca=this.busca),N.somenteCarteira=!0;const ue=[this.filtros.ordenacao],ce=[this.filtros.direcao];let M=await $db.contato.ler({filtros:N,limit:this.paginacao.limite,page:this.paginacao.atual,sort:ue,dir:ce}),ie=!0,re=!0;for(const _ of M.data){if(!this.listaLayout.hasOwnProperty(_.id)){const R=await $db.contato.leCompletoV3(_.id);R.detalhes=!1,R.remover=!1,R.ativo=_.ativo,this.listaLayout[_.id]=R}this.listaLayout[_.id].remover||(ie=!1),this.listaLayout[_.id].detalhes||(re=!1)}this.$refs.contatoLista.checkbox=ie,this.$refs.contatoLista.detalhes=re,this.lista=$utils.clonar(M.data),this.paginacao.total=M.total,this.paginacao.maximo=M.totalPages,s={_id:"ContatoLista_"+((te=this.usuario)==null?void 0:te.id),tabSelecionada:this.tabSelecionada.valor,busca:this.busca||"",filtros:$utils.clonar(this.filtros)},await $utils.localIDB.setItem({objectStore:"dadosRecentes",data:s})}catch{$q.notify({message:"N\xE3o foi possivel carregar os contatos.",type:"negative"})}finally{$q.loading.hide()}},async limparFiltrosClick(){this.filtros=$utils.clonar(this.filtrosOriginal),await this.atualizar()},async configurarGrupos(){try{const i=await $db.contato.leGruposUnicos();this.opcoesGrupos=i.map(e=>({label:e.descricao,value:e.descricao}))}catch{$q.notify({message:"N\xE3o foi possivel carregar os grupos.",type:"negative"})}},async configurarSegmento(){try{await $db.contato.carregarMemoria();const i=Array.from(new Set($db.contato.contatos.filter(e=>e.segmento).map(e=>e.segmento)));this.opcoesSegmento=i.map(e=>({label:e,value:e}))}catch{$q.notify({message:"N\xE3o foi possivel carregar segmentos.",type:"negative"})}},async configurarVendedores(){(await $db.contato.ler({filtros:{ativo:!0,vendedores:!0}})).data.forEach(e=>{this.opcoesVendedores.push({label:e.nome,value:e.id})})},async criarClick(){this.$refs.contatoFicha.show({id:""})},checkBoxClick(){for(const i of this.lista)this.listaLayout[i.id].remover=this.checkBox,this.tabSelecionada.valor==="Ativos"&&(this.mostrar.btnRemover=this.checkBox),this.tabSelecionada.valor==="Excluidos"&&(this.mostrar.btnRestaurar=this.checkBox)},verificarListaLayout(i){{let e=!0;for(const c of this.lista)this.listaLayout[c.id].remover||(e=!1);this.tabSelecionada.valor==="Ativos"&&(this.mostrar.btnRemover=Object.values(this.listaLayout).some(c=>c.ativo===!0&&c.remover===!0)),this.tabSelecionada.valor==="Excluidos"&&(this.mostrar.btnRestaurar=Object.values(this.listaLayout).some(c=>c.ativo===!1&&c.remover===!0)),this.checkbox=e,this.$refs.contatoLista.checkbox=e}{let e=!0;for(const c of this.lista)this.listaLayout[c.id].detalhes||(e=!1);this.detalhes=e,this.$refs.contatoLista.detalhes=e}},async restaurarClick(){$q.dialog({title:"Reativar contatos",message:"Deseja reativar todos os contatos selecionados?",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();for(const i of this.lista)if(this.listaLayout[i.id].remover){const e=$utils.clonar(i);i.ativo=!0,await $db.contato.gravar({original:{contato:e},atual:{contato:i}})}this.checkBox=!1,$q.notify({message:"Os contatos foram reativados com sucesso!",type:"positive"})}catch{$q.notify({message:"Houve um erro ao reativar os contatos. Tente novamente.",type:"negative"})}finally{$q.loading.hide()}setTimeout(async()=>{await this.atualizar()},500)})},async removerClick(){$q.dialog({title:"Inativar contatos",message:"Deseja inativar todos os contatos selecionados?",cancel:{label:"N\xE3o",push:!0,color:"tertiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-negative",textColor:"white",flat:!0}}).onOk(async()=>{try{$q.loading.show();for(const i of this.lista)if(this.listaLayout[i.id].remover){const e=$utils.clonar(i);i.ativo=!1,await $db.contato.gravar({original:{contato:e},atual:{contato:i}})}this.checkBox=!1,$q.notify({message:"Os contatos foram inativados com sucesso!",type:"positive"})}catch{$q.notify({message:"Houve um erro ao inativar os contatos. Tente novamente.",type:"negative"})}finally{$q.loading.hide()}setTimeout(async()=>{await this.atualizar()},500)})},detalhesClick(){this.detalhes=!this.detalhes,this.lista.forEach(async i=>{await this.abrirDetalhes(i,this.detalhes)})},async abrirDetalhes(i,e){this.listaLayout[i.id].detalhes=e||!this.listaLayout[i.id].detalhes,this.listaLayout[i.id].detalhes&&await $db.contato.leCompleto(i.id),this.verificarListaLayout("detalhes")},async exportaXLSClick(){try{$q.loading.show();const i=$utils.eliminarVazios(this.filtros);delete i.ativo,this.tabSelecionada.valor==="Ativos"&&(i.ativo=!0),this.tabSelecionada.valaor==="Excluidos"&&(i.ativo=!1);const e=await $db.contato.leRefatorado({filtros:i,limit:999999,page:1,sort:"descricao"}),c=G.utils.book_new(),S=G.utils.json_to_sheet(e.data,{header:Object.keys(e.data[0])});G.utils.book_append_sheet(c,S,"contatos"),G.writeFile(c,"contatos.xlsx"),$q.notify({message:"Exporta\xE7\xE3o XLS concluida!",type:"positive"})}catch{$q.notify({message:"Erro ao exportar XLS.",type:"negative"})}finally{$q.loading.hide()}},async abrirItem(i){this.$router.replace({params:{id:i}}).finally(()=>{this.$refs.contatoFicha.show({id:i})})},abrirEdicaoCompleta(i){$q.dialog({title:"Contato cadastrado!",message:"Deseja abrir a edi\xE7\xE3o completa?",persistent:"Sim",ok:{label:"Sim",class:"bg-primary",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{await this.abrirItem(i)})},async restaurarContato(i,e=!1){$q.dialog({title:"Reativar contato",message:"Deseja reativar este contato?",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();let c=$utils.clonar(i);i.ativo=!0,e>-1&&this.lista.splice(e,1),await $db.contato.gravar({original:{contato:c},atual:{contato:i}}),$q.notify({message:"O contato foi reativado com sucesso!",type:"positive"})}catch{$q.notify({message:"Ocorreu um erro ao reativar contato.",type:"negative"})}finally{$q.loading.hide()}})},async removerContato(i,e=!1){$q.dialog({title:"Inativar contato",message:"Ao continuar voc\xEA ir\xE1 inativar este contato.",ok:{label:"Sim",class:"bg-negative",textColor:"white",push:!0,flat:!0},cancel:{label:"N\xE3o",color:"tertiary",push:!0,flat:!0}}).onOk(async()=>{try{$q.loading.show();const c=$utils.clonar(i);i.ativo=!1,e>-1&&this.lista.splice(e,1),await $db.contato.gravar({atual:{contato:i},original:{contato:c}}),$q.notify({message:"O contato foi inativado com sucesso!",type:"positive"})}catch{$q.notify({message:"Ocorreu um erro ao inativar contato.",type:"negative"})}finally{$q.loading.hide()}})},copiarEmail(i){this.copiaEmail=i;const e=this.$refs.inputEmail;e.type="text",e.value=i;try{e.select(),document.execCommand("copy"),this.$q.notify({message:"Copiado!",type:"info"})}catch{this.$q.notify("Erro ao copiar.")}e.type="hidden",window.getSelection().removeAllRanges()},abrirTelefone(i,e){let c="";i==="tel"&&(c=`tel:55${e.replace(/[-\s()]/g,"")}`),i==="whatsapp"&&(c=`https://wa.me/55${e.replace(/[-\s()]/g,"")}`),c&&window.open(c,"_blank").focus()},enderecoIcone(i){const e=this.tiposEnderecos.find(c=>c.label===i)||{};return{color:e.color||"dark",name:e.icon||"store_mall_directory",size:"15px"}},telefoneIcone(i){const e=this.tiposTelefones.find(c=>c.label===i)||{};return{color:e.color||"dark",name:e.icon||"store_mall_directory",size:"15px"}},idade(i){let e=i;if(!e)return 0;e=new Date(e);const c=new Date(Date.now()-e.getTime());return Math.abs(c.getUTCFullYear()-1970)},onResize(){this.width=window.innerWidth},compareObject(i,e,c=[]){const S=Object.keys(i);for(const l of S)if(!c.includes(l)){if(typeof i[l]=="object"&&i[l]!==null){if(!this.compareObject(i[l],e[l],c))continue;return!0}else if(i[l]!==e[l])return!0}return!1},cpf_ou_cnpj(i){const e=i==null?void 0:i.replace(/[^\d]/g,"");return/^\d{11}$/.test(e)?"CPF":/^\d{14}$/.test(e)?"CNPJ":"Documento inv\xE1lido"}},async created(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.filtrosOriginal=$utils.clonar(this.filtros),this.mostrarFiltroVendedores=await $db.permissao.objeto("Diretiva_Contatos_AcessaTodosContatos"),this.mostrarFiltroVendedores&&await this.configurarVendedores(),await this.configurarSegmento(),await this.configurarGrupos(),this.$route.params.id&&this.$route.params.id.length?(this.abrirItem(this.$route.params.id),this.busca=this.$route.params.id,await this.atualizar()):await this.atualizar({buscarDadosRecentes:!0})}},xe={id:"ContatoLista"},_e={class:"mw80 text-center"};function we(i,e,c,S,l,n){const h=x("campo"),A=x("BadgeCopiarUid"),P=x("avatar"),y=x("g-label"),V=x("g-col"),O=x("g-row"),I=x("Lista"),B=x("ContatoModalFicha"),T=x("ContatoCombinar"),D=me("mask");return u(),L("div",xe,[t(I,{ref:"contatoLista",busca:l.busca,"onUpdate:busca":e[15]||(e[15]=o=>l.busca=o),checkBox:l.checkBox,"onUpdate:checkBox":e[16]||(e[16]=o=>l.checkBox=o),onAtualizar:n.atualizar,onCheckBoxClick:n.checkBoxClick,onCriarClick:n.criarClick,onDetalhesClick:n.detalhesClick,onExportaXLSClick:n.exportaXLSClick,onLimparFiltrosClick:n.limparFiltrosClick,onRemoverClick:n.removerClick,onRestaurarClick:n.restaurarClick,lista:l.lista,tabSelecionada:l.tabSelecionada,tabs:l.tabs,paginacao:l.paginacao,mostrar:l.mostrar},{menuExtras:a(()=>[t(k,{onClick:e[0]||(e[0]=()=>{this.combinarContatos=!0}),clickable:""},{default:a(()=>[t(f,{avatar:""},{default:a(()=>[t(C,{name:"compare_arrows"})]),_:1}),t(f,null,{default:a(()=>e[19]||(e[19]=[d("Combinar Contato")])),_:1})]),_:1})]),filtroCampos:a(()=>[t(h,{modelValue:l.filtros.nome,"onUpdate:modelValue":e[1]||(e[1]=o=>l.filtros.nome=o),rotulo:"Nome ou Raz\xE3o Social",clearable:"",dense:"",class:"q-mt-sm"},null,8,["modelValue"]),j(t(h,{modelValue:l.filtros.numeroDocumentoNacional,"onUpdate:modelValue":e[2]||(e[2]=o=>l.filtros.numeroDocumentoNacional=o),rotulo:"CPF/CNPJ",clearable:"",dense:"",class:"q-mt-lg"},null,8,["modelValue"]),[[D,["###.###.###-##","##.###.###/####-##"]]]),j(t(h,{modelValue:l.filtros.telefone,"onUpdate:modelValue":e[3]||(e[3]=o=>l.filtros.telefone=o),rotulo:"Telefone",clearable:"",dense:"",class:"q-mt-lg"},null,8,["modelValue"]),[[D,["(##) # ####-####"]]]),t(h,{modelValue:l.filtros.bairro,"onUpdate:modelValue":e[4]||(e[4]=o=>l.filtros.bairro=o),rotulo:"Bairro",clearable:"",dense:"",class:"q-mt-lg"},null,8,["modelValue"]),t(h,{modelValue:l.filtros.municipio,"onUpdate:modelValue":e[5]||(e[5]=o=>l.filtros.municipio=o),rotulo:"Munic\xEDpio",clearable:"",dense:"",class:"q-mt-lg"},null,8,["modelValue"]),t(h,{modelValue:l.filtros.uf,"onUpdate:modelValue":e[6]||(e[6]=o=>l.filtros.uf=o),options:l.opcoesEstados,clearable:"",dense:"",tipo:"seletor",rotulo:"Estado",class:"q-mt-lg"},null,8,["modelValue","options"]),t(h,{modelValue:l.filtros.segmento,"onUpdate:modelValue":e[7]||(e[7]=o=>l.filtros.segmento=o),options:l.opcoesSegmento,clearable:"",dense:"",tipo:"seletor",rotulo:"Segmento ou Profiss\xE3o",class:"q-mt-lg"},null,8,["modelValue","options"]),t(h,{modelValue:l.filtros.grupo,"onUpdate:modelValue":e[8]||(e[8]=o=>l.filtros.grupo=o),options:l.opcoesGrupos,clearable:"",dense:"",tipo:"seletor",rotulo:"Grupo",class:"q-mt-lg"},null,8,["modelValue","options"]),l.mostrarFiltroVendedores?(u(),m(h,{key:0,modelValue:l.filtros.idContatoVendedor,"onUpdate:modelValue":e[9]||(e[9]=o=>l.filtros.idContatoVendedor=o),options:l.opcoesVendedores,clearable:"",dense:"",tipo:"seletor",rotulo:"Vendedor ou Assistente",class:"q-mt-lg"},null,8,["modelValue","options"])):p("",!0),t(h,{modelValue:l.filtros.ordenacao,"onUpdate:modelValue":e[10]||(e[10]=o=>l.filtros.ordenacao=o),options:l.ordenacaoOpcoes,dense:"",rotuloFixo:"Ordenar por",tipo:"seletor",class:"q-mt-xl"},null,8,["modelValue","options"]),t(h,{modelValue:l.filtros.direcao,"onUpdate:modelValue":e[11]||(e[11]=o=>l.filtros.direcao=o),options:l.direcaoOpcoes,dense:"",rotuloFixo:"Dire\xE7\xE3o",tipo:"seletor",class:"q-mt-sm"},null,8,["modelValue","options"]),t(h,{modelValue:l.paginacao.limite,"onUpdate:modelValue":e[12]||(e[12]=o=>l.paginacao.limite=o),tipo:"quantidade",dense:"",rotulo:"Quantidade por p\xE1gina",min:"1",class:"q-mt-xl q-mb-md"},null,8,["modelValue"])]),itemLista:a(()=>[t(se,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:a(()=>[t(fe,{onResize:n.onResize},null,8,["onResize"]),(u(!0),L(z,null,F(l.lista,(o,E)=>(u(),L("div",{key:o.id,class:"itemHover"},[l.listaLayout[o.id]?(u(),m(k,{key:0,"manual-focus":"",clickable:"",class:"q-py-sm q-px-xs items-center"},{default:a(()=>[t(f,{class:"hideonmobile col-auto no-margin"},{default:a(()=>[t(k,{class:"q-pa-none"},{default:a(()=>[this.mostrar.checkBox?(u(),m(f,{key:0,side:"",class:"col-auto q-pa-none"},{default:a(()=>[t(ne,{modelValue:l.listaLayout[o.id].remover,"onUpdate:modelValue":r=>l.listaLayout[o.id].remover=r,onClick:e[13]||(e[13]=r=>n.verificarListaLayout("checkbox"))},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):p("",!0),t(f,{side:"",class:"col-auto q-pa-none"},{default:a(()=>[w("div",_e,[t(A,{id:o.id,numero:o.codigoContato,cor:o.ativo?"positive":"tertiary",dica:"C\xF3digo Contato"},null,8,["id","numero","cor"])])]),_:2},1024)]),_:2},1024)]),_:2},1024),t(f,{class:"col-md col-lg col-xl no-margin"},{default:a(()=>[t(k,{class:"q-pa-none"},{default:a(()=>[t(f,{onClick:r=>n.abrirItem(o.id),class:"col-auto items-center"},{default:a(()=>[t(P,{imagem:o.photo,rotulo:o.nome,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["imagem","rotulo"]),this.mostrar.checkBox?(u(),m(ne,{key:0,modelValue:l.listaLayout[o.id].remover,"onUpdate:modelValue":r=>l.listaLayout[o.id].remover=r,onClick:e[14]||(e[14]=r=>n.verificarListaLayout("checkbox")),class:"hideondesktop q-mt-md"},null,8,["modelValue","onUpdate:modelValue"])):p("",!0)]),_:2},1032,["onClick"]),t(f,{onClick:r=>n.abrirItem(o.id),class:"col"},{default:a(()=>[t(g,{lines:"2",class:"text-weight-bold"},{default:a(()=>[w("span",null,[d(b(o.apelido)+" ",1),t(q,{anchor:"bottom middle",self:"center middle"},{default:a(()=>e[20]||(e[20]=[d("Apelido/Fantasia")])),_:1})])]),_:2},1024),o.apelido&&o.apelido!==o.nome?(u(),m(g,{key:0,caption:"",lines:"2"},{default:a(()=>[w("span",null,[d(b(o.nome)+" ",1),t(q,{anchor:"bottom middle",self:"center middle"},{default:a(()=>e[21]||(e[21]=[d("Nome/Raz\xE3o")])),_:1})])]),_:2},1024)):p("",!0),t(g,{lines:"2"},{default:a(()=>[w("span",null,b(i.$filters.data(o.dataCadastro)),1)]),_:2},1024),t(f,{top:"",class:"hideondesktop q-mt-xs"},{default:a(()=>[t(g,null,{default:a(()=>[t(A,{id:o.id,numero:o.codigoContato,cor:o.ativo?"positive":"tertiary"},null,8,["id","numero","cor"])]),_:2},1024),o.numeroDocumentoNacional||o.numeroDocumentoEstadual||o.dataAbertura?(u(),m(k,{key:0,class:"q-pa-none q-mt-xs"},{default:a(()=>[o.dataAbertura?(u(),m(f,{key:0,top:"",class:"no-margin col-shrink q-pr-sm"},{default:a(()=>[t(g,{caption:"",class:"text-weight-medium"},{default:a(()=>[t(C,{name:"mdi-calendar"}),d(" "+b(i.$filters.data(o.dataAbertura)),1)]),_:2},1024),n.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CPF"?(u(),m(g,{key:0,caption:""},{default:a(()=>[d(b(n.idade(o.dataAbertura)>0?"Idade: "+n.idade(o.dataAbertura):""),1)]),_:2},1024)):p("",!0)]),_:2},1024)):p("",!0),o.numeroDocumentoNacional||o.numeroDocumentoEstadual?(u(),m(f,{key:1,top:"",class:"no-margin"},{default:a(()=>[o.numeroDocumentoNacional?(u(),m(g,{key:0,caption:"",lines:"2",class:"text-weight-medium"},{default:a(()=>[d(b(o.numeroDocumentoNacional),1)]),_:2},1024)):p("",!0),o.numeroDocumentoEstadual?(u(),m(g,{key:1,caption:"",lines:"2"},{default:a(()=>[d(b(o.numeroDocumentoEstadual),1)]),_:2},1024)):p("",!0)]),_:2},1024)):p("",!0)]),_:2},1024)):p("",!0)]),_:2},1024)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024),t(f,{onClick:r=>n.abrirItem(o.id),class:"hideonmobile maxw100 no-margin"},{default:a(()=>[o.dataAbertura?(u(),m(g,{key:0,caption:"",class:"text-weight-medium"},{default:a(()=>[w("span",null,[t(C,{name:"mdi-calendar"}),d(" "+b(i.$filters.data(o.dataAbertura))+" ",1),n.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CPF"?(u(),m(q,{key:0,anchor:"bottom middle",self:"center middle"},{default:a(()=>e[22]||(e[22]=[d(" Data Nascimento ")])),_:1})):p("",!0),n.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CNPJ"?(u(),m(q,{key:1,anchor:"bottom middle",self:"center middle"},{default:a(()=>e[23]||(e[23]=[d(" Data Funda\xE7\xE3o ")])),_:1})):p("",!0)])]),_:2},1024)):p("",!0),n.idade(o.dataAbertura)>0?(u(),m(g,{key:1,caption:""},{default:a(()=>[d(b("Idade: "+n.idade(o.dataAbertura)),1)]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),t(f,{onClick:r=>n.abrirItem(o.id),class:"hideonmobile maxw130 no-margin"},{default:a(()=>[o.numeroDocumentoNacional?(u(),m(g,{key:0,caption:"",lines:"2",class:"text-weight-bold"},{default:a(()=>[w("span",null,[d(b(o.numeroDocumentoNacional)+" ",1),n.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CPF"?(u(),m(q,{key:0,anchor:"bottom middle",self:"center middle"},{default:a(()=>e[24]||(e[24]=[d(" CPF ")])),_:1})):p("",!0),n.cpf_ou_cnpj(o.numeroDocumentoNacional)==="CNPJ"?(u(),m(q,{key:1,anchor:"bottom middle",self:"center middle"},{default:a(()=>e[25]||(e[25]=[d(" CNPJ ")])),_:1})):p("",!0)])]),_:2},1024)):p("",!0),o.numeroDocumentoEstadual?(u(),m(g,{key:1,caption:"",lines:"2"},{default:a(()=>[w("span",null,[d(b(o.numeroDocumentoEstadual)+" ",1),t(q,{anchor:"bottom middle",self:"center middle"},{default:a(()=>e[26]||(e[26]=[d("RG/IE")])),_:1})])]),_:2},1024)):p("",!0)]),_:2},1032,["onClick"]),t(f,{class:"col-auto q-pl-sm no-margin"},{default:a(()=>[t(k,{class:"q-pa-none"},{default:a(()=>[t(f,{class:"hideonmobile no-margin"},{default:a(()=>[l.listaLayout[o.id]?(u(),m(Q,{key:0,onClick:r=>n.abrirDetalhes(o),flat:"",dense:"",round:"",size:"md",icon:l.listaLayout[o.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])):p("",!0)]),_:2},1024),t(f,{class:"hideonmobile no-margin"},{default:a(()=>[t(Q,{onClick:r=>n.abrirItem(o.id),class:"hideonmobile",icon:"edit",size:"md",color:"primary",flat:"",dense:"",round:""},null,8,["onClick"])]),_:2},1024),t(f,{class:"no-margin"},{default:a(()=>[t(Q,{icon:"more_vert",size:"md",round:"",flat:"",dense:""},{default:a(()=>[t(pe,null,{default:a(()=>[j((u(),m(se,{link:"","no-border":"",separator:""},{default:a(()=>{var r;return[t(k,{onClick:v=>n.abrirDetalhes(o),clickable:"",class:"hideondesktop"},{default:a(()=>[t(f,{avatar:""},{default:a(()=>[t(C,{name:l.listaLayout[o.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down",size:"sm"},null,8,["name"])]),_:2},1024),t(f,null,{default:a(()=>e[27]||(e[27]=[d("Detalhes")])),_:1})]),_:2},1032,["onClick"]),t(k,{onClick:v=>n.abrirItem(o.id),clickable:"",class:"hideondesktop"},{default:a(()=>[t(f,{avatar:""},{default:a(()=>[t(C,{name:"edit",size:"sm"})]),_:1}),t(f,null,{default:a(()=>e[28]||(e[28]=[d("Editar")])),_:1})]),_:2},1032,["onClick"]),l.listaLayout[o.id].telefone.length?(u(!0),L(z,{key:0},F(l.listaLayout[o.id].telefone,v=>(u(),m(k,{key:v,clickable:"",class:"q-pa-none"},{default:a(()=>[t(f,{onClick:U=>n.abrirTelefone("tel",v.telefone),class:"no-padding itemHover"},{default:a(()=>[t(k,null,{default:a(()=>[t(f,{avatar:"",class:"no-padding"},{default:a(()=>[t(C,{name:"phone",size:"sm"})]),_:1}),t(f,{class:"no-padding"},{default:a(()=>[t(g,null,{default:a(()=>[d(b(v.telefone),1)]),_:2},1024),t(g,{caption:""},{default:a(()=>[d(b(v.tipoTelefone),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"]),v.tipoTelefone==="Celular"||v.tipoTelefone==="WhatsApp"?(u(),m(f,{key:0,onClick:U=>n.abrirTelefone("whatsapp",v.telefone),side:"",class:"no-padding itemHover"},{default:a(()=>[t(C,{name:"mdi-whatsapp",size:"sm",class:"q-px-sm"})]),_:2},1032,["onClick"])):p("",!0)]),_:2},1024))),128)):p("",!0),(r=o==null?void 0:o.email)!=null&&r.length?(u(),m(k,{key:1,onClick:v=>n.copiarEmail(o.email),clickable:""},{default:a(()=>[t(f,{avatar:""},{default:a(()=>[t(C,{name:"email",size:"sm"})]),_:1}),t(f,null,{default:a(()=>e[29]||(e[29]=[d(" Enviar por E-mail ")])),_:1})]),_:2},1032,["onClick"])):p("",!0),o.ativo?(u(),m(k,{key:2,clickable:"",onClick:v=>n.removerContato(o,E)},{default:a(()=>[t(f,{avatar:""},{default:a(()=>[t(C,{name:"delete",size:"sm"})]),_:1}),t(f,null,{default:a(()=>e[30]||(e[30]=[d("Inativar")])),_:1})]),_:2},1032,["onClick"])):p("",!0),o.ativo?p("",!0):(u(),m(k,{key:3,clickable:"",onClick:v=>n.restaurarContato(o,E)},{default:a(()=>[t(f,{avatar:""},{default:a(()=>[t(C,{name:"restore_from_trash",size:"sm"})]),_:1}),t(f,null,{default:a(()=>e[31]||(e[31]=[d("Reativar")])),_:1})]),_:2},1032,["onClick"]))]}),_:2},1024)),[[be]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):p("",!0),l.listaLayout[o.id]&&l.listaLayout[o.id].detalhes?(u(),m(O,{key:1,gutter:"md-x lg-y"},{default:a(()=>[t(V,{col:"xs12 sm6 md",bordered:""},{default:a(()=>[t(y,{caption:"",icon:"location_on 14px tertiary"},{default:a(()=>e[32]||(e[32]=[d(" Local ")])),_:1}),(u(!0),L(z,null,F(l.listaLayout[o.id].endereco.filter(r=>r.logradouro),r=>(u(),m(y,{key:r.id,text:"medium",lines:"3",caption:l.width<=992,icon:`
                    ${n.enderecoIcone(r.grupo).name}
                    ${n.enderecoIcone(r.grupo).size}
                    ${n.enderecoIcone(r.grupo).color}
                  `,class:"q-pl-md"},{default:a(()=>[d(b(r.logradouro)+" "+b(r.numero?", "+r.numero:"")+" "+b(r.complemento?", "+r.complemento:"")+" "+b(r.bairro?", "+r.bairro:"")+" "+b(r.municipio)+" "+b(r.uf?"-"+r.uf:"")+" "+b(r.cep?", CEP: "+r.cep:""),1)]),_:2},1032,["caption","icon"]))),128))]),_:2},1024),t(V,{col:"xs12 sm6 md",bordered:""},{default:a(()=>[t(y,{caption:"",icon:"phone 14px tertiary"},{default:a(()=>e[33]||(e[33]=[d(" Telefones ")])),_:1}),(u(!0),L(z,null,F(l.listaLayout[o.id].telefone,r=>(u(),m(y,{key:r.id,text:"medium",lines:"2",caption:l.width<=992,icon:`
                    ${n.telefoneIcone(r.tipoTelefone).name}
                    ${n.telefoneIcone(r.tipoTelefone).size}
                    ${n.telefoneIcone(r.tipoTelefone).color}
                  `,class:"q-pl-md"},{default:a(()=>[d(b(r.telefone),1)]),_:2},1032,["caption","icon"]))),128)),t(y,{caption:"",icon:"email 14px tertiary"},{default:a(()=>e[34]||(e[34]=[d(" E-mail ")])),_:1}),t(y,{caption:l.width<=992,text:"medium",class:"q-pl-md"},{default:a(()=>[d(b(o.email),1)]),_:2},1032,["caption"])]),_:2},1024),t(V,{col:"xs12 sm4 md",bordered:""},{default:a(()=>[t(y,{caption:"",icon:"local_offer 14px tertiary"},{default:a(()=>e[35]||(e[35]=[d(" Segmento ")])),_:1}),o.segmento?(u(),m(y,{key:0,caption:l.width<=992,icon:"remove 14px tertiary left",text:"medium",class:"q-pl-md"},{default:a(()=>[d(b(o.segmento),1)]),_:2},1032,["caption"])):p("",!0)]),_:2},1024),t(V,{col:"xs12 sm4 md",bordered:""},{default:a(()=>[t(y,{caption:"",icon:"local_offer 14px tertiary"},{default:a(()=>e[36]||(e[36]=[d(" Grupos ")])),_:1}),l.listaLayout[o.id].grupo?(u(!0),L(z,{key:0},F(l.listaLayout[o.id].grupo,r=>(u(),m(y,{key:r.id,caption:l.width<=992,icon:"remove 14px tertiary left",text:"medium",class:"q-pl-md"},{default:a(()=>[d(b(r.descricao),1)]),_:2},1032,["caption"]))),128)):p("",!0)]),_:2},1024)]),_:2},1024)):p("",!0),l.listaLayout[o.id]?(u(),m(he,{key:2})):p("",!0)]))),128))]),_:1})]),_:1},8,["busca","checkBox","onAtualizar","onCheckBoxClick","onCriarClick","onDetalhesClick","onExportaXLSClick","onLimparFiltrosClick","onRemoverClick","onRestaurarClick","lista","tabSelecionada","tabs","paginacao","mostrar"]),t(B,{ref:"contatoFicha",onAtualizar:n.atualizar},null,8,["onAtualizar"]),t(T,{modelValue:l.combinarContatos,"onUpdate:modelValue":e[17]||(e[17]=o=>l.combinarContatos=o),onAtualizar:n.atualizar},null,8,["modelValue","onAtualizar"]),j(w("input",{type:"hidden","onUpdate:modelValue":e[18]||(e[18]=o=>l.copiaEmail=o),ref:"inputEmail"},null,512),[[ve,l.copiaEmail]])])}var Fe=de(Ce,[["render",we]]);export{Fe as default};
