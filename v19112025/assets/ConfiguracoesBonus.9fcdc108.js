import{_ as be,r as F,o as u,p as R,f as a,bJ as ve,w as s,S as A,T as d,j as q,U as g,k as n,P as K,F as I,x as W,d as c,W as G,m as B,t as m,C as i,e as b,Q as y,bf as ye,H as le,N as te,l as ne,M as ie,L as xe,E as ke,G as re,h as ue,i as J,a_ as Ce,a$ as de,I as me,J as pe,b5 as De,b6 as fe,K as Ve,br as Ae,D as ce}from"./index.ddbcd6b2.js";import{L as we}from"./Lista.b4055103.js";import{S as Ee}from"./SeletorEmpresa.684e8f64.js";const X={visivel:!1,dadosEmpresa:null,id:"",ativo:1,removido:0,gerarBonus:0,empresa:"",cnpjEmpresa:"00.000.000/000-00",vigenciaDe:null,vigenciaAte:null,idFinanceiroPlanoConta:null,percentual:10,percentualSobreBonus:5,valorMinimo:1,valorMaximo:500,diasMinimoUso:1,diasExpiracao:60,textoRegras:"",observacao:"",mensagens:{aoCriar:"",aoClienteAceitarReceberBonus:"",diasAntesDeVencer:[{dias:0,mensagem:""}],aoUsarBonus:""}},he={components:{Lista:we,SeletorEmpresa:Ee},data(){return{usuario:"",listaLayout:{},lista:[],listaRemovidos:[],mostrar:{header:!1,barraTopo:!1,toolbarTitulo:!0,icone:"",titulo:"",buscar:!0,filtroAvancado:!0,btnAjuda:!0,btnAtualizar:!0,btnNovo:!0,toolbarAcoes:!0,checkBox:!1,btnRemover:!1,btnRestaurar:!1,centralizaTabs:!1,btnDetalhes:!0,btnExportaXLS:!1,btnMenuMais:!0,toolbarAdicao:!1,bannerMsg:"",conexao:{icone:"online",iconeTamanho:"xs",cor:"grey-5",rotulo:null,dica:"Online",denso:!0,flat:!0,escuro:!1}},busca:"",filtrosOriginal:{},filtros:{cnpjEmpresa:null,status:"todos",ordenacao:"vigenciaDe",direcao:"desc"},statusOpcoes:[{value:"ativo",label:"Ativo"},{value:"inativo",label:"Inativo"},{value:"todos",label:"Todos"}],ordenacaoOpcoes:[{value:"vigenciaDe",label:"Vig\xEAncia De"},{value:"vigenciaAte",label:"Vig\xEAncia At\xE9"},{value:"descricao",label:"Descri\xE7\xE3o"}],direcaoOpcoes:[{value:"asc",label:"Crescente"},{value:"desc",label:"Decrescente"}],detalhes:!1,tabSelecionada:{valor:"Vigente"},tabs:[{valor:"Vigente",rotulo:"Vigente"},{valor:"Futuro",rotulo:"Futuro"},{valor:"Vencidos",rotulo:"Vencidos"},{valor:"Todos",rotulo:"Todos"}],paginacao:{atual:1,maximo:1,total:1,limite:25},bonusOriginal:{},bonus:{},tabConfiguracoes:"configuracoes",removidos:!1,dataAtual:$utils.dataAtual(),tela:{width:0,heihgt:0}}},methods:{async atualizar(t){var e,k,w,l,p,z,x,N,P,j,V;try{$q.loading.show(),this.lista=[],this.listaRemovidos=[];let r=[];this.tabSelecionadaAnt!==this.tabSelecionada.valor&&(this.paginacao.atual=1),this.tabSelecionadaAnt=this.tabSelecionada.valor;let{buscarDadosRecentes:U}=t!=null?t:{},C={};U&&(C=await $utils.localIDB.getItem({objectStore:"dadosRecentes",id:"ConfiguracoesBonus_"+((e=this.usuario)==null?void 0:e.id)}),C!=null&&C._id&&(this.tabSelecionada.valor=(C==null?void 0:C.tabSelecionada)||"Ativos",this.busca=(C==null?void 0:C.busca)||"",this.filtros={cnpjEmpresa:((k=C==null?void 0:C.filtros)==null?void 0:k.cnpjEmpresa)||null,status:((w=C==null?void 0:C.filtros)==null?void 0:w.status)||"todos",ordenacao:((l=C==null?void 0:C.filtros)==null?void 0:l.ordenacao)||"vigenciaDe",direcao:((p=C==null?void 0:C.filtros)==null?void 0:p.direcao)||"desc"},this.compareObject(this.filtrosOriginal,this.filtros,["ordenacao","direcao"])&&(this.$refs.configuracoesBonus.filtros=!0)));const _=await $utils.geeksApi({leBonusConfiguracoes:{funcao:"2CB180A6-5464-4D30-AF0F-82C897831886"}}),o=(j=JSON.parse((P=(N=(x=(z=_==null?void 0:_.data)==null?void 0:z.leBonusConfiguracoes)==null?void 0:x[0])==null?void 0:N.json)!=null?P:null))!=null?j:[];if(r=this.ordenarDados(o,{ordenacao:this.filtros.ordenacao,direcao:this.filtros.direcao}),this.listaRemovidos=r.filter(v=>v.removido===1)||[],r=r.filter(v=>v.removido===0)||[],this.filtros.cnpjEmpresa){const v=this.filtros.cnpjEmpresa.numeroDocumentoNacional;r=r.filter(h=>h.cnpjEmpresa===v)}if(this.filtros.vigenciaDe||this.filtros.vigenciaAte){const v=this.filtros.vigenciaDe?new Date(this.filtros.vigenciaDe).setHours(0,0,0,0):null,h=this.filtros.vigenciaAte?new Date(this.filtros.vigenciaAte).setHours(0,0,0,0):null;r=r.filter(L=>{const O=new Date(L.vigenciaDe).setHours(0,0,0,0),M=new Date(L.vigenciaAte).setHours(0,0,0,0);return v!==null&&h!==null?O>=v&&O<=h||M>=h&&M<=v:v!==null?O>=v&&O<=v:h!==null?M>=h&&M<=h:!0})}if(this.filtros.status!==""){const v=this.filtros.status==="ativo"?1:this.filtros.status==="inativo"?0:this.filtros.status==="todos"?"":null;r=r.filter(h=>v===""||h.ativo===v)}if(this.busca)if(this.paginacao.atual=1,/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/.test(this.busca))this.tabSelecionada.valor="Todos",r=r.filter(h=>h.id===this.busca);else{const L=$utils.removerAcentos(this.busca.toUpperCase()).split(" ").filter(Boolean).filter(M=>!M.match(/^\d+$/)),O=[];r=r.filter(M=>{const Q=$utils.removerAcentos([(M.empresa||"Todas as empresas")+" - "+M.percentual+"%",M.cnpjEmpresa].join(" ").toUpperCase());let T=!0;for(const H of L)T=T&&Q.includes(H);return T})}this.tabSelecionada.valor==="Vigente"&&(r=r.filter(v=>new Date(this.dataAtual).setHours(0,0,0,0)>=new Date(v.vigenciaDe).setHours(0,0,0,0)&&new Date(this.dataAtual).setHours(0,0,0,0)<=new Date(v.vigenciaAte).setHours(0,0,0,0))),this.tabSelecionada.valor==="Futuro"&&(r=r.filter(v=>new Date(v.vigenciaDe).setHours(0,0,0,0)>new Date(this.dataAtual).setHours(0,0,0,0))),this.tabSelecionada.valor==="Vencidos"&&(r=r.filter(v=>new Date(v.vigenciaAte).setHours(0,0,0,0)<new Date(this.dataAtual).setHours(0,0,0,0)));const f=Math.ceil(r.length/this.paginacao.limite);this.paginacao.atual=this.paginacao.atual>f?f:this.paginacao.atual,this.paginacao.total=r.length,this.paginacao.maximo=f;const E=this.paginacao.atual*this.paginacao.limite-this.paginacao.limite,D=this.paginacao.atual*this.paginacao.limite;this.lista=r.slice(E,D);let S=!0;for(const v of this.lista)this.listaLayout.hasOwnProperty(v.id)||(this.listaLayout[v.id]={detalhes:!1}),this.listaLayout[v.id].detalhes||(S=!1);this.$refs.configuracoesBonus.detalhes=S,C={_id:"ConfiguracoesBonus_"+((V=this.usuario)==null?void 0:V.id),tabSelecionada:this.tabSelecionada.valor,busca:this.busca,filtros:$utils.clonar(this.filtros)},await $utils.localIDB.setItem({objectStore:"dadosRecentes",data:C})}catch(r){$q.notifyError("Erro iniciar",r)}finally{$q.loading.hide()}},ordenarDados(t,e){return t.sort((k,w)=>{let l=e.ordenacao,p=e.direcao==="desc"?-1:1,z="",x="";return l.includes("vigencia")&&(z=new Date(k[l]),x=new Date(w[l])),l.includes("descricao")?(z=`${k.empresa?k.empresa:"Todas as empresas"} - ${k.percentual}%`,x=`${w.empresa?w.empresa:"Todas as empresas"} - ${w.percentual}%`):typeof z=="string"&&typeof x=="string"&&(z=z.trim().toLowerCase(),x=x.trim().toLowerCase()),z<x?-1*p:z>x?1*p:0})},async abrirBonus(t){if(t!=null&&t.id){const e=await this.buscarEmpresa(t.cnpjEmpresa);this.bonus={...t,dadosEmpresa:e,visivel:!0},this.bonusOriginal=$utils.clonar(this.bonus)}else this.bonus={...X,id:$utils.uuid(),vigenciaDe:this.dataAtual,vigenciaAte:this.dataAtual,visivel:!0}},fecharBonus(){this.bonus=$utils.clonar(X)},async salvarBonus(t){try{if($q.loading.show(),t){const w=await this.buscarEmpresa(t.cnpjEmpresa);this.bonus={...t,dadosEmpresa:w,visivel:!1}}const e=$utils.clonar(this.bonus),k=$utils.diferencaObjetos(this.bonusOriginal,e);Object.keys(k).length>0?(e.dadosEmpresa?(e.empresa=e.dadosEmpresa.nome||e.dadosEmpresa.apelido,e.cnpjEmpresa=e.dadosEmpresa.numeroDocumentoNacional):(e.empresa="",e.cnpjEmpresa=""),delete e.visivel,delete e.dadosEmpresa,await $utils.geeksApi({salvarBonusConfiguracoes:{funcao:"A288EBE9-B138-4D5D-A185-2F68BDDBB3F9",...e}}),this.bonus.removido?$q.notifyPositive("Configura\xE7\xF5es de b\xF4nus removida com sucesso!"):$q.notifyPositive("Configura\xE7\xF5es de b\xF4nus cadastrada com sucesso!"),this.bonus=$utils.clonar(X),await this.atualizar()):$q.notify("Configura\xE7\xF5es de b\xF4nus sem altera\xE7\xF5es a serem salvas.")}catch{$q.notifyError("Erro ao cadastrar configura\xE7\xF5es de b\xF4nus.")}finally{$q.loading.hide()}},async duplicarBonus(t){$q.dialog({title:"Duplicar Configura\xE7\xF5es do B\xF4nus",message:`Ao continuar voc\xEA ir\xE1 duplicar as configura\xE7\xF5es do b\xF4nus: ${t.empresa||"Todas as empresas"} - ${t.percentual+"%"}.`,cancel:{label:"N\xE3o",push:!0,color:"textiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async()=>{const e=await this.buscarEmpresa(t.cnpjEmpresa);this.bonus={...t,id:$utils.uuid(),vigenciaDe:this.dataAtual,vigenciaAte:this.dataAtual,dadosEmpresa:e,visivel:!0}})},removerBonus(t){$q.dialog({title:"Remover Configura\xE7\xF5es do B\xF4nus",message:`Ao continuar voc\xEA ir\xE1 remover as configura\xE7\xF5es do b\xF4nus: ${t.empresa||"Todas as empresas"} - ${t.percentual+"%"}.`,cancel:{label:"N\xE3o",push:!0,color:"textiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async()=>{const e=await this.buscarEmpresa(t.cnpjEmpresa);this.bonus={...t,ativo:0,removido:1,dadosEmpresa:e,visivel:!1},await this.salvarBonus()})},restaurarBonus(t){$q.dialog({title:"Restaurar Configura\xE7\xF5es do B\xF4nus",message:`Ao continuar voc\xEA ir\xE1 restaurar as configura\xE7\xF5es do b\xF4nus: ${t.empresa||"Todas as empresas"} - ${t.percentual+"%"}.`,cancel:{label:"N\xE3o",push:!0,color:"textiary",flat:!0},ok:{label:"Sim",push:!0,class:"bg-primary",textColor:"white",flat:!0}}).onOk(async()=>{const e=await this.buscarEmpresa(t.cnpjEmpresa);this.removidos=!1,this.bonus={...t,ativo:1,removido:0,dadosEmpresa:e,visivel:!0}})},async buscarEmpresa(t){try{if(t){const e=(await $db.hibrido.lista({table:"empresa",whereFilter:{numeroDocumentoNacional:t}}))[0];return{id:e.idContato,nome:e.nome,apelido:e.apelido,numeroDocumentoNacional:t}}return null}catch(e){$q.notifyError("Empresa n\xE3o localizada",e)}},adicionarDiasAntesDeVencer(t){try{t.mensagens.diasAntesDeVencer.push({dias:0,mensagem:""})}catch{$q.notifyError("Erro ao adicionar novo per\xEDodo de dias para vencimento.")}},async removerDiasAntesDeVencer(t,e){if(!!await $q.dialogSimNao({title:"Remover",message:"Deseja remover este per\xEDodo de dias de vencimento?"}))try{t.mensagens.diasAntesDeVencer.splice(e,1),t.mensagens.diasAntesDeVencer.length===0&&this.adicionarDiasAntesDeVencer(t)}catch(k){$q.notifyError("Ocorreu um erro ao remover este per\xEDodo de dias.",k)}},validacao(t,e){if(t==="vigenciaDe"){const k=new Date(e).setHours(0,0,0,0),w=new Date(this.bonus.vigenciaAte).setHours(0,0,0,0),l=new Date(this.dataAtual).setHours(0,0,0,0);if(!e)return"Defina a vig\xEAncia.";w<l&&(this.bonus.vigenciaAte=k>=l?this.bonus.vigenciaDe:this.dataAtual),w<k&&(this.bonus.vigenciaAte=k>=l?this.bonus.vigenciaDe:this.dataAtual);return}if(t==="vigenciaAte"){const k=new Date(this.bonus.vigenciaDe).setHours(0,0,0,0),w=new Date(e).setHours(0,0,0,0),l=new Date(this.dataAtual).setHours(0,0,0,0);return e?w<l?(this.bonus.vigenciaAte=k>=l?this.bonus.vigenciaDe:this.dataAtual,"A vig\xEAncia deve ser maior ou igual \xE0 data atual"):w<k?(this.bonus.vigenciaAte=k>=l?this.bonus.vigenciaDe:this.dataAtual,"A vig\xEAncia at\xE9 deve ser maior ou igual \xE0 vig\xEAncia de"):void 0:"Defina a vig\xEAncia."}if(t==="diasMinimoUso")return!e||e<0?(this.bonus.diasMinimoUso=1,"N\xFAmero de dias deve ser maior que 0"):void 0;if(t==="diasExpiracao")return!e||e<0?(this.bonus.diasExpiracao=1,"N\xFAmero de dias deve ser maior que 0"):void 0;if(t==="valorMinimo")return!e||e<0?(this.bonus.valorMinimo=0,"Valor deve ser maior que R$ 0,00"):void 0;if(t==="valorMaximo")return e<0?(this.bonus.valorMaximo=0,"Valor n\xE3o pode ser negativo."):void 0;if(t==="percentual")return!e||e<=0?(this.bonus.percentual=0,"O percentual deve ser maior que 0%"):void 0;if(t==="percentualSobreBonus")return e<0?(this.bonus.percentualSobreBonus=0,"O fator n\xE3o pode ser negativo."):e>=1e3?this.bonus.percentualSobreBonus=999.99:void 0},detalhesClick(){this.detalhes=!this.detalhes,this.lista.forEach(t=>{this.abrirDetalhes(t,this.detalhes)})},async abrirDetalhes(t,e){this.listaLayout[t.id].detalhes=e||!this.listaLayout[t.id].detalhes,this.verificarListaLayout("detalhes")},verificarListaLayout(t){{let e=!0;for(const k of this.lista)this.listaLayout[k.id].detalhes||(e=!1);this.detalhes=e,this.$refs.configuracoesBonus.detalhes=e}},async limparFiltrosClick(){this.filtros=$utils.clonar(this.filtrosOriginal),await this.atualizar()},compareObject(t,e,k=[]){const w=Object.keys(t);for(const l of w)if(!k.includes(l)){if(typeof t[l]=="object"&&t[l]!==null){if(!this.compareObject(t[l],e[l],k))continue;return!0}else if(t[l]!==e[l])return!0}return!1},resize(){const t=document.getElementById("ConfiguracoesBonus");t&&(this.tela={width:t.offsetWidth,height:t.offsetHeight})}},async mounted(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.filtrosOriginal=$utils.clonar(this.filtros),await this.atualizar({buscarDadosRecentes:!0})}},Be={id:"ConfiguracoesBonus"},qe={class:"mw80 text-center"},ze={class:"text-weight-bold"},Me={class:"text-weight-bold"},Ue={class:"text-weight-bold"},Se={class:"text-weight-bold"},Fe={class:"text-weight-medium"},Re={class:"text-weight-bold"},Ne={class:"text-weight-bold"},je=["textContent"],Oe={key:0},Le={key:1},Te=["textContent"],Pe={class:"mw80 text-center"},_e={class:"text-weight-bold"},Qe={class:"text-weight-bold"},He={class:"text-weight-bold"},Ie={class:"text-weight-bold"},We={class:"text-weight-medium"},Je={class:"text-weight-bold"},Ke={class:"text-weight-bold"};function Ge(t,e,k,w,l,p){const z=F("SeletorEmpresa"),x=F("campo"),N=F("BadgeCopiarUid"),P=F("avatar"),j=F("badge"),V=F("g-label"),r=F("g-col"),U=F("g-row"),C=F("Lista"),_=F("ajuda");return u(),R("div",Be,[a(ve,{onResize:e[0]||(e[0]=o=>p.resize())}),a(C,{ref:"configuracoesBonus",busca:l.busca,"onUpdate:busca":e[7]||(e[7]=o=>l.busca=o),onAtualizar:p.atualizar,onCriarClick:p.abrirBonus,onDetalhesClick:p.detalhesClick,onLimparFiltrosClick:p.limparFiltrosClick,lista:l.lista,tabSelecionada:l.tabSelecionada,tabs:l.tabs,paginacao:l.paginacao,mostrar:l.mostrar,style:{"margin-top":"-16px"}},{menuExtras:s(()=>[a(A,{onClick:e[1]||(e[1]=()=>{l.removidos=!l.removidos}),clickable:""},{default:s(()=>[a(d,{avatar:""},{default:s(()=>[a(q,{name:"restore_from_trash",size:"sm"})]),_:1}),a(d,null,{default:s(()=>[a(g,null,{default:s(()=>e[47]||(e[47]=[n("Restaurar")])),_:1}),a(g,{caption:""},{default:s(()=>e[48]||(e[48]=[n("B\xF4nus removidos")])),_:1})]),_:1})]),_:1})]),filtroCampos:s(()=>[a(z,{modelValue:l.filtros.cnpjEmpresa,"onUpdate:modelValue":e[2]||(e[2]=o=>l.filtros.cnpjEmpresa=o),rotulo:"Por empresa",dense:"",chaves:["id","numeroDocumentoNacional"]},null,8,["modelValue"]),a(x,{modelValue:l.filtros.status,"onUpdate:modelValue":e[3]||(e[3]=o=>l.filtros.status=o),options:l.statusOpcoes,dense:"",rotuloFixo:"Status",tipo:"seletor",class:"q-mt-sm"},null,8,["modelValue","options"]),a(x,{modelValue:l.filtros.ordenacao,"onUpdate:modelValue":e[4]||(e[4]=o=>l.filtros.ordenacao=o),options:l.ordenacaoOpcoes,dense:"",rotuloFixo:"Ordenar por",tipo:"seletor",class:"q-mt-lg"},null,8,["modelValue","options"]),a(x,{modelValue:l.filtros.direcao,"onUpdate:modelValue":e[5]||(e[5]=o=>l.filtros.direcao=o),options:l.direcaoOpcoes,dense:"",rotuloFixo:"Dire\xE7\xE3o",tipo:"seletor",class:"q-mt-sm"},null,8,["modelValue","options"]),a(x,{modelValue:l.paginacao.limite,"onUpdate:modelValue":e[6]||(e[6]=o=>l.paginacao.limite=o),tipo:"quantidade",min:"1",dense:"",rotulo:"Quantidade por p\xE1gina",class:"q-mt-xl q-mb-md"},null,8,["modelValue"])]),itemLista:s(()=>[a(K,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:s(()=>[(u(!0),R(I,null,W(l.lista,o=>(u(),R("div",{key:o.id,class:"itemHover"},[o.id?(u(),c(A,{key:0,"manual-focus":"",class:"q-py-sm q-px-xs items-center"},{default:s(()=>[a(d,{class:"hideonmobile col-auto no-margin"},{default:s(()=>[a(A,{class:"q-pa-none"},{default:s(()=>[a(d,{class:"no-margin col-auto q-px-sm"},{default:s(()=>[a(G,{modelValue:o.ativo,"onUpdate:modelValue":[f=>o.ativo=f,f=>p.salvarBonus(o)],dense:"","true-value":1,"false-value":0},null,8,["modelValue","onUpdate:modelValue"]),a(B,{anchor:"bottom middle",self:"center start"},{default:s(()=>[n(m(o.ativo===1?"B\xF4nus Ativo":"B\xF4nus Inativo"),1)]),_:2},1024)]),_:2},1024),a(d,{class:"no-margin col-auto q-pa-none"},{default:s(()=>[i("div",qe,[a(N,{id:o.id,numero:o.id.slice(-6),escuro:"",cor:o.ativo?"positive":"tertiary",dica:"ID Config. B\xF4nus"},null,8,["id","numero","cor"])])]),_:2},1024)]),_:2},1024)]),_:2},1024),a(d,{class:"col-xs col-sm no-margin"},{default:s(()=>[a(A,{class:"q-pa-none"},{default:s(()=>[a(d,{onClick:f=>p.abrirBonus(o),class:"col-auto items-center cursor-pointer"},{default:s(()=>[a(P,{rotulo:`${o.empresa||"Todas as empresas"}`,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["rotulo"])]),_:2},1032,["onClick"]),a(d,{class:"col"},{default:s(()=>[a(g,{onClick:f=>p.abrirBonus(o),lines:"2",class:"cursor-pointer"},{default:s(()=>[i("span",null,[i("span",ze,m(o.empresa||"Todas as empresas"),1),e[50]||(e[50]=i("span",{class:"q-px-sm"},"-",-1)),i("span",null,m(o.percentual)+"%",1),a(B,{anchor:"bottom start",self:"center start"},{default:s(()=>e[49]||(e[49]=[n("Descri\xE7\xE3o")])),_:1})])]),_:2},1032,["onClick"]),o.cnpjEmpresa?(u(),c(g,{key:0,onClick:f=>p.abrirBonus(o),caption:"",class:"cursor-pointer"},{default:s(()=>[i("span",null,[n(m(o.cnpjEmpresa)+" ",1),a(B,{anchor:"bottom start",self:"center start"},{default:s(()=>e[51]||(e[51]=[n("CNPJ")])),_:1})])]),_:2},1032,["onClick"])):b("",!0),a(d,{class:"hideondesktop q-mt-xs"},{default:s(()=>[a(N,{id:o.id,numero:o.id.slice(-8),escuro:"",cor:o.ativo?"positive":"tertiary",dica:"ID Config. B\xF4nus",class:"col-auto q-mr-auto"},null,8,["id","numero","cor"]),a(A,{class:"no-padding no-margin",style:{"min-height":"20px"}},{default:s(()=>[a(d,{onClick:f=>p.abrirBonus(o),class:"no-margin text-weight-medium"},{default:s(()=>[o.vigenciaDe?(u(),c(g,{key:0,caption:""},{default:s(()=>[a(q,{name:"mdi-calendar-today"}),n(" "+m(t.$filters.data(o.vigenciaDe)),1)]),_:2},1024)):b("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:f=>p.abrirBonus(o),class:"no-margin text-weight-medium"},{default:s(()=>[o.vigenciaAte?(u(),c(g,{key:0,caption:""},{default:s(()=>[a(q,{name:"mdi-calendar"}),n(" "+m(t.$filters.data(o.vigenciaAte)),1)]),_:2},1024)):b("",!0)]),_:2},1032,["onClick"])]),_:2},1024),a(A,{class:"no-padding no-margin",style:{"min-height":"10px"}},{default:s(()=>[a(d,{onClick:f=>p.abrirBonus(o),class:"no-margin"},{default:s(()=>[o.diasExpiracao?(u(),c(g,{key:0,caption:""},{default:s(()=>[e[52]||(e[52]=n(" Expira em: ")),i("span",Me,m(o.diasExpiracao),1)]),_:2},1024)):b("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:f=>p.abrirBonus(o),class:"no-margin"},{default:s(()=>[o.diasMinimoUso?(u(),c(g,{key:0,caption:""},{default:s(()=>[e[53]||(e[53]=n(" Dias m\xEDnimo: ")),i("span",Ue,m(o.diasMinimoUso),1)]),_:2},1024)):b("",!0)]),_:2},1032,["onClick"])]),_:2},1024),a(A,{class:"no-padding no-margin",style:{"min-height":"32px"}},{default:s(()=>[a(d,{onClick:f=>p.abrirBonus(o),class:"maxw50 no-margin"},{default:s(()=>[o.percentual?(u(),c(g,{key:0},{default:s(()=>[a(j,{rotulo:o.percentual+"%",escuro:"",dica:"Percentual da venda",cor:"tertiary"},null,8,["rotulo"])]),_:2},1024)):b("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:f=>p.abrirBonus(o),class:"col-auto no-margin"},{default:s(()=>[o.valorMaximo?(u(),c(g,{key:0,caption:"",class:"text-right"},{default:s(()=>[e[54]||(e[54]=n(" Valor m\xE1ximo: ")),i("span",Se,m(t.$filters.numero(o.valorMaximo,2)),1)]),_:2},1024)):b("",!0),o.valorMinimo?(u(),c(g,{key:1,caption:"",class:"text-right"},{default:s(()=>[e[55]||(e[55]=n(" Valor m\xEDnimo: ")),i("span",Fe,m(t.$filters.numero(o.valorMinimo,2)),1)]),_:2},1024)):b("",!0)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(d,{onClick:f=>p.abrirBonus(o),class:"hideonmobile maxw100 no-margin cursor-pointer"},{default:s(()=>[o.vigenciaDe?(u(),c(g,{key:0,caption:"",class:"text-center text-weight-medium"},{default:s(()=>[i("span",null,[a(q,{name:"mdi-calendar-today"}),n(" "+m(t.$filters.data(o.vigenciaDe))+" ",1),a(B,{anchor:"bottom middle",self:"center middle"},{default:s(()=>e[56]||(e[56]=[n("Vig\xEAncia de")])),_:1})])]),_:2},1024)):b("",!0),o.vigenciaAte?(u(),c(g,{key:1,caption:"",class:"text-center text-weight-medium"},{default:s(()=>[i("span",null,[a(q,{name:"mdi-calendar"}),n(" "+m(t.$filters.data(o.vigenciaAte))+" ",1),a(B,{anchor:"bottom middle",self:"center middle"},{default:s(()=>e[57]||(e[57]=[n("Vig\xEAncia at\xE9")])),_:1})])]),_:2},1024)):b("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:f=>p.abrirBonus(o),class:"hideonmobile maxw120 q-pl-sm no-margin cursor-pointer"},{default:s(()=>[o.diasExpiracao?(u(),c(g,{key:0,caption:""},{default:s(()=>[e[58]||(e[58]=n(" Expira em: ")),i("span",Re,m(o.diasExpiracao),1)]),_:2},1024)):b("",!0),o.diasMinimoUso?(u(),c(g,{key:1,caption:""},{default:s(()=>[e[59]||(e[59]=n(" Dias m\xEDnimo: ")),i("span",Ne,m(o.diasMinimoUso),1)]),_:2},1024)):b("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:f=>p.abrirBonus(o),class:"hideonmobile maxw50 q-pl-sm no-margin"},{default:s(()=>[o.percentual?(u(),c(g,{key:0},{default:s(()=>[a(j,{rotulo:o.percentual+"%",escuro:"",dica:"Percentual da venda",cor:"tertiary"},null,8,["rotulo"])]),_:2},1024)):b("",!0)]),_:2},1032,["onClick"]),a(d,{onClick:f=>p.abrirBonus(o),class:"hideonmobile maxw100 q-pl-sm no-margin"},{default:s(()=>[o.valorMaximo?(u(),c(g,{key:0,caption:"",class:"text-weight-bold text-right"},{default:s(()=>[i("span",null,[n(m(t.$filters.numero(o.valorMaximo,2))+" ",1),a(B,{anchor:"bottom middle",self:"center middle"},{default:s(()=>e[60]||(e[60]=[n(" Valor m\xE1ximo ")])),_:1})])]),_:2},1024)):b("",!0),o.valorMinimo?(u(),c(g,{key:1,caption:"",class:"text-weight-medium text-right"},{default:s(()=>[i("span",null,[n(m(t.$filters.numero(o.valorMinimo,2))+" ",1),a(B,{anchor:"bottom middle",self:"center middle"},{default:s(()=>e[61]||(e[61]=[n(" Valor m\xEDnimo ")])),_:1})])]),_:2},1024)):b("",!0)]),_:2},1032,["onClick"]),a(d,{class:"col-auto no-margin"},{default:s(()=>[a(A,{class:"q-pa-none"},{default:s(()=>[a(d,{class:"hideonmobile no-margin",style:{"max-width":"32px"}},{default:s(()=>[a(y,{onClick:f=>p.abrirDetalhes(o),size:"md",color:"tertiary",round:"",flat:"",dense:"",icon:l.listaLayout[o.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["onClick","icon"])]),_:2},1024),a(d,{class:"hideonmobile no-margin"},{default:s(()=>[a(y,{onClick:f=>p.abrirBonus(o),icon:"edit",size:"md",color:"primary",round:"",flat:"",dense:""},null,8,["onClick"])]),_:2},1024),a(d,{class:"no-margin"},{default:s(()=>[a(y,{icon:"more_vert",size:"md",round:"",flat:"",dense:""},{default:s(()=>[a(ye,null,{default:s(()=>[le((u(),c(K,{link:"","no-border":"",separator:""},{default:s(()=>[a(A,{onClick:f=>p.abrirBonus(o),clickable:"",class:"hideondesktop"},{default:s(()=>[a(d,{avatar:""},{default:s(()=>[a(q,{name:"edit"})]),_:1}),a(d,null,{default:s(()=>e[62]||(e[62]=[n(" Editar ")])),_:1})]),_:2},1032,["onClick"]),a(A,{onClick:f=>p.duplicarBonus(o),clickable:""},{default:s(()=>[a(d,{avatar:""},{default:s(()=>[a(q,{name:"file_copy"})]),_:1}),a(d,null,{default:s(()=>[a(g,null,{default:s(()=>e[63]||(e[63]=[n(" Duplicar ")])),_:1})]),_:1})]),_:2},1032,["onClick"]),a(A,{onClick:f=>p.removerBonus(o),clickable:""},{default:s(()=>[a(d,{avatar:""},{default:s(()=>[a(q,{name:"delete"})]),_:1}),a(d,null,{default:s(()=>[a(g,null,{default:s(()=>e[64]||(e[64]=[n(" Remover ")])),_:1})]),_:1})]),_:2},1032,["onClick"]),a(A,{onClick:f=>p.abrirDetalhes(o),clickable:"",class:"hideondesktop"},{default:s(()=>[a(d,{avatar:""},{default:s(()=>[a(q,{name:l.listaLayout[o.id].detalhes?"keyboard_arrow_up":"keyboard_arrow_down"},null,8,["name"])]),_:2},1024),a(d,null,{default:s(()=>e[65]||(e[65]=[n("Mais Detalhes")])),_:1})]),_:2},1032,["onClick"])]),_:2},1024)),[[te]])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):b("",!0),l.listaLayout[o.id].detalhes?(u(),c(U,{key:1,gutter:"md-x lg-y"},{default:s(()=>[a(r,{col:"12 sm6"},{default:s(()=>[a(U,null,{default:s(()=>[a(r,{col:"12",bordered:""},{default:s(()=>[a(V,{icon:"description xs tertiary left",text:"medium"},{default:s(()=>e[66]||(e[66]=[n("Regras adicionais")])),_:1}),a(V,{class:"q-pl-lg"},{default:s(()=>{var f,E;return[i("pre",{class:"texto-pre-formatado",textContent:m(o.textoRegras.replace(/\[NomeCliente\]/g,"Ricardo").replace(/\[NomeEmpresa\]/g,`${((f=o==null?void 0:o.dadosEmpresa)==null?void 0:f.nome)||"Sua \xD3tica"}`).replace(/\[ApelidoEmpresa\]/g,`${((E=o==null?void 0:o.dadosEmpresa)==null?void 0:E.apelido)||"Sua \xD3tica"}`).replace(/\[DataVencimento\]/g,`${t.$filters.data(new Date(l.dataAtual).setDate(new Date(l.dataAtual).getDate()+((o==null?void 0:o.diasMinimoUso)+(o==null?void 0:o.diasExpiracao))))}`).replace(/\[CPF\]/g,"999.999.999-00").replace(/\[WhatsApp\]/g,"(19) 9 9999-9999").replace(/\[Valor\]/g,`R$ ${t.$filters.numero(1e3*parseFloat(((o==null?void 0:o.percentual)||"0").toString().replace(",","."))/100,2)}`).replace(/\[ValorMinimoCompra\]/g,`R$ ${t.$filters.numero((o==null?void 0:o.percentualSobreBonus)*(1e3*parseFloat(((o==null?void 0:o.percentual)||"0").toString().replace(",","."))/100),2)}`))},null,8,je)]}),_:2},1024)]),_:2},1024),a(r,{col:"12",bordered:""},{default:s(()=>[a(V,{icon:"description xs tertiary left",text:"medium"},{default:s(()=>e[67]||(e[67]=[n("Observa\xE7\xE3o")])),_:1}),a(V,{class:"q-pl-lg"},{default:s(()=>[n(m(o.observacao),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(r,{col:"12 sm6",bordered:""},{default:s(()=>{var f,E;return[a(V,{icon:"chat xs tertiary left",text:"medium"},{default:s(()=>e[68]||(e[68]=[n("Mensagens")])),_:1}),(u(!0),R(I,null,W((E=(f=o==null?void 0:o.mensagens)==null?void 0:f.diasAntesDeVencer)!=null?E:[],(D,S)=>(u(),c(V,{key:S,class:"q-pl-lg q-mb-sm"},{default:s(()=>[a(j,{rotulo:`${D.dias} ${D.dias>1?"Dias":"Dia"}`,cor:"tertiary",escuro:"",class:"q-mr-xs"},null,8,["rotulo"]),n(" "+m(D.mensagem),1)]),_:2},1024))),128))]}),_:2},1024)]),_:2},1024)):b("",!0),o.id?(u(),c(ne,{key:2})):b("",!0)]))),128))]),_:1})]),_:1},8,["busca","onAtualizar","onCriarClick","onDetalhesClick","onLimparFiltrosClick","lista","tabSelecionada","tabs","paginacao","mostrar"]),a(ce,{modelValue:l.bonus.visivel,"onUpdate:modelValue":e[44]||(e[44]=o=>l.bonus.visivel=o),onKeyup:e[45]||(e[45]=Ae(o=>p.fecharBonus(),["esc"])),maximized:l.tela.width<=992},{default:s(()=>[a(ie,{container:"",view:"hHh LpR fFf",class:"bg-white rounded-borders",style:xe(l.tela.width<=992?"":"max-width:600px;height:100%;max-height:600px;")},{default:s(()=>[a(ke,{onSubmit:e[43]||(e[43]=o=>p.salvarBonus()),autocorrect:"off",autocapitalize:"off",autocomplete:"off",spellcheck:"false",novalidate:""},{default:s(()=>[a(re,null,{default:s(()=>[a(ue,null,{default:s(()=>[a(q,{name:"edit_note",size:"md"}),a(J,{class:"hideonmobile"},{default:s(()=>e[69]||(e[69]=[n("Configura\xE7\xF5es do B\xF4nus")])),_:1}),a(J,{class:"hideondesktop"},{default:s(()=>e[70]||(e[70]=[n("Config. B\xF4nus")])),_:1}),a(_),l.bonus.id?(u(),c(N,{key:0,id:l.bonus.id||"0000",numero:(l.bonus.id||"0000").slice(-6),cor:"positive",class:"float-right"},null,8,["id","numero"])):b("",!0)]),_:1}),a(Ce,{modelValue:l.tabConfiguracoes,"onUpdate:modelValue":e[8]||(e[8]=o=>l.tabConfiguracoes=o),dense:"","inline-label":"","outside-arrows":"","mobile-arrows":"",align:"justify"},{default:s(()=>[a(de,{name:"configuracoes",icon:"settings",label:"configura\xE7\xF5es"}),a(de,{name:"mensagens",icon:"chat",label:"Mensagens"})]),_:1},8,["modelValue"])]),_:1}),a(me,null,{default:s(()=>[a(pe,null,{default:s(()=>[a(De,{modelValue:l.tabConfiguracoes,"onUpdate:modelValue":e[40]||(e[40]=o=>l.tabConfiguracoes=o),animated:"",swipeable:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:s(()=>[a(fe,{name:"configuracoes",class:"q-pa-none"},{default:s(()=>[a(U,{gutter:"md",items:"center",justify:"center"},{default:s(()=>[a(r,{col:"12",class:"q-mb-md"},{default:s(()=>[a(U,{items:"center"},{default:s(()=>[a(r,{col:"shrink"},{default:s(()=>[i("span",null,[a(G,{modelValue:l.bonus.ativo,"onUpdate:modelValue":e[9]||(e[9]=o=>l.bonus.ativo=o),dense:"","true-value":1,"false-value":0,class:"q-mb-md"},null,8,["modelValue"]),a(B,{anchor:"bottom start",self:"center start"},{default:s(()=>[n(m(l.bonus.ativo===1?"B\xF4nus Ativo":"B\xF4nus Inativo"),1)]),_:1})])]),_:1}),a(r,{col:"xs"},{default:s(()=>[a(V,{text:"medium",class:"disabled",style:{background:"rgba(0, 0, 0, 0.1)",padding:"9.5px 12px"}},{default:s(()=>[l.bonus.dadosEmpresa?(u(),R("span",Oe,m(l.bonus.dadosEmpresa.nome||l.bonus.dadosEmpresa.apelido||l.bonus.empresa),1)):(u(),R("span",Le," Todas as empresas ")),e[71]||(e[71]=i("span",{class:"q-px-sm"},"-",-1)),i("span",null,m(l.bonus.percentual)+"%",1)]),_:1}),a(V,{text:"caption light"},{default:s(()=>e[72]||(e[72]=[n(" Descri\xE7\xE3o gerada autom\xE1ticamente pelos parametros abaixo. ")])),_:1})]),_:1})]),_:1})]),_:1}),a(r,{col:"12"},{default:s(()=>[a(V,{"rounded-borders":"",class:"q-mb-md",style:{background:"rgba(0, 0, 0, 0.05)",padding:"1.5px 8px"}},{default:s(()=>[a(U,{items:"center"},{default:s(()=>[a(r,{col:"shrink"},{default:s(()=>[i("span",null,[a(G,{modelValue:l.bonus.gerarBonus,"onUpdate:modelValue":e[10]||(e[10]=o=>l.bonus.gerarBonus=o),dense:"","true-value":1,"false-value":0},null,8,["modelValue"]),a(B,{anchor:"bottom start",self:"center start"},{default:s(()=>[n(m(l.bonus.gerarBonus===1?"Ativo":"Inativo"),1)]),_:1})])]),_:1}),a(r,{col:"xs"},{default:s(()=>[a(V,{text:"regular",class:"q-py-sm"},{default:s(()=>e[73]||(e[73]=[n(" Gerar b\xF4nus em fatura que tem b\xF4nus sendo utilizado. ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(r,{col:"12"},{default:s(()=>[a(z,{modelValue:l.bonus.dadosEmpresa,"onUpdate:modelValue":e[11]||(e[11]=o=>l.bonus.dadosEmpresa=o),filled:"",dense:"",chaves:["id","nome","apelido","numeroDocumentoNacional"]},null,8,["modelValue"])]),_:1}),a(r,{col:"6"},{default:s(()=>[a(x,{modelValue:l.bonus.vigenciaDe,"onUpdate:modelValue":e[12]||(e[12]=o=>l.bonus.vigenciaDe=o),filled:"",dense:"","lazy-rules":"",tipo:"data",rotulo:"Vig\xEAncia de",rules:[o=>p.validacao("vigenciaDe",l.bonus.vigenciaDe)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"6"},{default:s(()=>[a(x,{modelValue:l.bonus.vigenciaAte,"onUpdate:modelValue":e[13]||(e[13]=o=>l.bonus.vigenciaAte=o),filled:"",dense:"","lazy-rules":"",tipo:"data",rotulo:"Vig\xEAncia at\xE9",rules:[o=>p.validacao("vigenciaAte",l.bonus.vigenciaAte)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"6"},{default:s(()=>[a(x,{modelValue:l.bonus.diasMinimoUso,"onUpdate:modelValue":e[14]||(e[14]=o=>l.bonus.diasMinimoUso=o),filled:"",dense:"","lazy-rules":"",tipo:"quantidade",rotulo:"Dias m\xEDnimos para uso",min:1,rules:[o=>p.validacao("diasMinimoUso",l.bonus.diasMinimoUso)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"6"},{default:s(()=>[a(x,{modelValue:l.bonus.diasExpiracao,"onUpdate:modelValue":e[15]||(e[15]=o=>l.bonus.diasExpiracao=o),filled:"",dense:"","lazy-rules":"",tipo:"quantidade",rotulo:"Expira em (dias)",min:1,rules:[o=>p.validacao("diasExpiracao",l.bonus.diasExpiracao)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"12 sm6"},{default:s(()=>[a(x,{modelValue:l.bonus.valorMinimo,"onUpdate:modelValue":e[16]||(e[16]=o=>l.bonus.valorMinimo=o),filled:"",dense:"","lazy-rules":"",tipo:"decimal",decimals:"2",zerosDireita:"2",prefix:"R$",rotulo:"Valor m\xEDnimo (b\xF4nus)",rules:[o=>p.validacao("valorMinimo",l.bonus.valorMinimo)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"12 sm6"},{default:s(()=>[a(x,{modelValue:l.bonus.valorMaximo,"onUpdate:modelValue":e[17]||(e[17]=o=>l.bonus.valorMaximo=o),filled:"",dense:"","lazy-rules":"",tipo:"decimal",decimals:"2",zerosDireita:"2",prefix:"R$",rotulo:"Valor m\xE1ximo (b\xF4nus)",rules:[o=>p.validacao("valorMaximo",l.bonus.valorMaximo)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"12",class:"q-mb-md"},{default:s(()=>[a(V,{bordered:"","rounded-borders":"",class:"q-pa-sm"},{default:s(()=>[a(U,null,{default:s(()=>[a(r,{col:"12 sm6"},{default:s(()=>[a(x,{modelValue:l.bonus.percentual,"onUpdate:modelValue":e[18]||(e[18]=o=>l.bonus.percentual=o),filled:"",dense:"","lazy-rules":"",tipo:"number",rotulo:"Percentual sobre a Venda",suffix:"%","input-class":"text-right",rules:[o=>p.validacao("percentual",l.bonus.percentual)]},null,8,["modelValue","rules"])]),_:1}),a(r,{col:"12 sm6"},{default:s(()=>[a(x,{modelValue:l.bonus.percentualSobreBonus,"onUpdate:modelValue":e[19]||(e[19]=o=>l.bonus.percentualSobreBonus=o),filled:"",dense:"","lazy-rules":"",tipo:"decimal",decimals:"2",zerosDireita:"2",rotulo:"Fator sobre o b\xF4nus",rules:[o=>p.validacao("percentualSobreBonus",l.bonus.percentualSobreBonus)]},null,8,["modelValue","rules"])]),_:1})]),_:1}),a(V,null,{default:s(()=>{var o,f,E,D;return[e[74]||(e[74]=n(" Para uma venda de ")),e[75]||(e[75]=i("strong",null,"R$ 1.000,00",-1)),e[76]||(e[76]=n(" aplicando ")),i("strong",null,m((o=l.bonus)==null?void 0:o.percentual)+"%",1),e[77]||(e[77]=n(" ir\xE1 gerar um b\xF4nus de ")),i("strong",null,"R$ "+m(t.$filters.numero(1e3*parseFloat((((f=l.bonus)==null?void 0:f.percentual)||"0").toString().replace(",","."))/100,2)),1),e[78]||(e[78]=n(". ")),e[79]||(e[79]=i("br",null,null,-1)),e[80]||(e[80]=n(" Para utiliza\xE7\xE3o do b\xF4nus, o cliente ")),e[81]||(e[81]=i("strong",null,"deve comprar",-1)),e[82]||(e[82]=n(" no m\xEDnimo ")),i("strong",null,"R$ "+m(t.$filters.numero(((E=l.bonus)==null?void 0:E.percentualSobreBonus)*(1e3*parseFloat((((D=l.bonus)==null?void 0:D.percentual)||"0").toString().replace(",","."))/100),2)),1),e[83]||(e[83]=n(". "))]}),_:1})]),_:1})]),_:1}),a(r,{col:"12"},{default:s(()=>[a(V,{caption:"",bordered:"",class:"q-pa-sm q-mb-md"},{default:s(()=>{var o,f,E,D,S,v,h,L,O,M,Q,T,H,Y,Z,$,ee,ae,oe,se;return[a(V,{text:"body2",class:"q-mb-md"},{default:s(()=>e[84]||(e[84]=[n("Esse texto ser\xE1 enviado junto as informa\xE7\xF5es do b\xF4nus para o cliente.")])),_:1}),i("strong",null,m(((f=(o=l.bonus)==null?void 0:o.dadosEmpresa)==null?void 0:f.apelido)||((D=(E=l.bonus)==null?void 0:E.dadosEmpresa)==null?void 0:D.nome)||"Sua \xD3tica"),1),e[86]||(e[86]=n(" tem um presente para voc\xEA, ")),e[87]||(e[87]=i("strong",null,"Ricardo",-1)),e[88]||(e[88]=n(". ")),e[89]||(e[89]=i("br",null,null,-1)),e[90]||(e[90]=n(" Um super b\xF4nus no valor de ")),i("strong",null,"R$ "+m(t.$filters.numero(1e3*parseFloat((((S=l.bonus)==null?void 0:S.percentual)||"0").toString().replace(",","."))/100,2)),1),e[91]||(e[91]=n(" para voc\xEA usar na sua pr\xF3xima compra acima de ")),e[92]||(e[92]=i("br",null,null,-1)),i("strong",null,"R$ "+m(t.$filters.numero(((v=l.bonus)==null?void 0:v.percentualSobreBonus)*(1e3*parseFloat((((h=l.bonus)==null?void 0:h.percentual)||"0").toString().replace(",","."))/100),2)),1),e[93]||(e[93]=n(", mas, fique atento ao prazo: v\xE1lido de ")),i("strong",null,m(t.$filters.data(new Date(l.dataAtual).setDate(new Date(l.dataAtual).getDate()+((L=l.bonus)==null?void 0:L.diasMinimoUso)))),1),e[94]||(e[94]=n(" at\xE9 ")),i("strong",null,m(t.$filters.data(new Date(l.dataAtual).setDate(new Date(l.dataAtual).getDate()+(((O=l.bonus)==null?void 0:O.diasMinimoUso)+((M=l.bonus)==null?void 0:M.diasExpiracao))))),1),e[95]||(e[95]=n("! ")),e[96]||(e[96]=i("br",null,null,-1)),e[97]||(e[97]=n(" Seu token \xE9 ")),i("strong",null,m((Q=l.bonus.id||"")==null?void 0:Q.slice(-8).replace(/(.{4})(.{4})/g,"$1-$2")),1),e[98]||(e[98]=n(". ")),i("pre",{class:"texto-pre-formatado q-mt-none",textContent:m(l.bonus.textoRegras.replace(/\[NomeCliente\]/g,"Ricardo").replace(/\[NomeEmpresa\]/g,`${((H=(T=l.bonus)==null?void 0:T.dadosEmpresa)==null?void 0:H.nome)||"Sua \xD3tica"}`).replace(/\[ApelidoEmpresa\]/g,`${((Z=(Y=l.bonus)==null?void 0:Y.dadosEmpresa)==null?void 0:Z.apelido)||"Sua \xD3tica"}`).replace(/\[DataVencimento\]/g,`${t.$filters.data(new Date(l.dataAtual).setDate(new Date(l.dataAtual).getDate()+((($=l.bonus)==null?void 0:$.diasMinimoUso)+((ee=l.bonus)==null?void 0:ee.diasExpiracao))))}`).replace(/\[CPF\]/g,"999.999.999-00").replace(/\[WhatsApp\]/g,"(19) 9 9999-9999").replace(/\[Valor\]/g,`R$ ${t.$filters.numero(1e3*parseFloat((((ae=l.bonus)==null?void 0:ae.percentual)||"0").toString().replace(",","."))/100,2)}`).replace(/\[ValorMinimoCompra\]/g,`R$ ${t.$filters.numero(((oe=l.bonus)==null?void 0:oe.percentualSobreBonus)*(1e3*parseFloat((((se=l.bonus)==null?void 0:se.percentual)||"0").toString().replace(",","."))/100),2)}`))},null,8,Te),a(x,{modelValue:l.bonus.textoRegras,"onUpdate:modelValue":e[20]||(e[20]=ge=>l.bonus.textoRegras=ge),filled:"",dense:"",tipo:"textoArea",rotulo:"Regras adicionais:",class:"q-mt-md"},null,8,["modelValue"]),a(V,{text:"regular"},{default:s(()=>[e[85]||(e[85]=n(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizada: ")),a(y,{onClick:e[21]||(e[21]=()=>{l.bonus.textoRegras+=" [NomeCliente]"}),dense:"",flat:"","no-caps":"",label:"[NomeCliente]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[22]||(e[22]=()=>{l.bonus.textoRegras+=" [NomeEmpresa]"}),dense:"",flat:"","no-caps":"",label:"[NomeEmpresa]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[23]||(e[23]=()=>{l.bonus.textoRegras+=" [ApelidoEmpresa]"}),dense:"",flat:"","no-caps":"",label:"[ApelidoEmpresa]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[24]||(e[24]=()=>{l.bonus.textoRegras+=" [DataVencimento]"}),dense:"",flat:"","no-caps":"",label:"[DataVencimento]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[25]||(e[25]=()=>{l.bonus.textoRegras+=" [CPF]"}),class:"captalize",dense:"",flat:"","no-caps":"",label:"[CPF]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[26]||(e[26]=()=>{l.bonus.textoRegras+=" [WhatsApp]"}),dense:"",flat:"","no-caps":"",label:"[WhatsApp]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[27]||(e[27]=()=>{l.bonus.textoRegras+=" [Valor]"}),dense:"",flat:"","no-caps":"",label:"[Valor]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[28]||(e[28]=()=>{l.bonus.textoRegras+=" [ValorMinimoCompra]"}),dense:"",flat:"","no-caps":"",label:"[ValorMinimoCompra]",style:{"font-size":"0.75rem"}})]),_:1})]}),_:1})]),_:1}),a(r,{col:"12"},{default:s(()=>[a(V,{bordered:"","roudned-borders":"",text:"regular caption",class:"q-pa-sm q-mb-md"},{default:s(()=>[a(x,{modelValue:l.bonus.observacao,"onUpdate:modelValue":e[29]||(e[29]=o=>l.bonus.observacao=o),filled:"",dense:"",tipo:"textoArea",rotulo:"Observa\xE7\xE3o:"},null,8,["modelValue"]),e[99]||(e[99]=i("strong",null,"*",-1)),e[100]||(e[100]=n(" Esta observa\xE7\xE3o s\xF3 estar\xE1 disponivel aqui. "))]),_:1})]),_:1})]),_:1})]),_:1}),a(fe,{name:"mensagens",class:"q-pa-none"},{default:s(()=>[a(U,{gutter:"md",items:"center",justify:"center"},{default:s(()=>[a(r,{col:"12",text:"center",class:"q-mb-lg"},{default:s(()=>{var o,f,E;return[(u(!0),R(I,null,W((E=(f=(o=l.bonus)==null?void 0:o.mensagens)==null?void 0:f.diasAntesDeVencer)!=null?E:[],(D,S)=>(u(),c(U,{key:S,items:"center",mg:"md-y",bordered:"","rounded-borders":""},{default:s(()=>[a(r,{col:"grow"},{default:s(()=>[a(x,{modelValue:D.dias,"onUpdate:modelValue":v=>D.dias=v,filled:"",dense:"",tipo:"quantidade",rotulo:"Dias antes de vencer"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),a(r,{col:"shrink"},{default:s(()=>[a(y,{onClick:v=>p.removerDiasAntesDeVencer(l.bonus,S),icon:"delete",round:"",flat:"",dense:"",color:"tertiary"},null,8,["onClick"])]),_:2},1024),a(r,{col:"12"},{default:s(()=>[a(x,{modelValue:D.mensagem,"onUpdate:modelValue":v=>D.mensagem=v,dense:"",filled:"",tipo:"textoArea",rotulo:`Mensagem para ${D.dias} dia(s):`},null,8,["modelValue","onUpdate:modelValue","rotulo"]),a(V,{caption:"",text:"regular left"},{default:s(()=>[e[101]||(e[101]=n(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizada: ")),a(y,{onClick:()=>{D.mensagem+=" [NomeCliente]"},dense:"",flat:"","no-caps":"",label:"[NomeCliente]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [NomeEmpresa]"},class:"captalize",dense:"",flat:"","no-caps":"",label:"[NomeEmpresa]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [ApelidoEmpresa]"},dense:"",flat:"","no-caps":"",label:"[ApelidoEmpresa]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [DataVencimento]"},dense:"",flat:"","no-caps":"",label:"[DataVencimento]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [CPF]"},class:"captalize",dense:"",flat:"","no-caps":"",label:"[CPF]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [WhatsApp]"},dense:"",flat:"","no-caps":"",label:"[WhatsApp]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [Valor]"},dense:"",flat:"","no-caps":"",label:"[Valor]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),a(y,{onClick:()=>{D.mensagem+=" [ValorMinimoCompra]"},dense:"",flat:"","no-caps":"",label:"[ValorMinimoCompra]",style:{"font-size":"0.75rem"}},null,8,["onClick"]),e[102]||(e[102]=i("br",null,null,-1)),e[103]||(e[103]=i("strong",null,"*",-1)),e[104]||(e[104]=n(" Esse texto ser\xE1 enviado por WhatsApp ao cliente no per\xEDodo descrito. "))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128)),a(y,{onClick:e[30]||(e[30]=D=>p.adicionarDiasAntesDeVencer(l.bonus)),outline:"",icon:"add",label:"Adicionar periodo",size:"sm",color:"positive"})]}),_:1}),a(r,{col:"12"},{default:s(()=>[a(V,{caption:"",bordered:"",class:"q-pa-sm q-mb-lg"},{default:s(()=>[a(x,{modelValue:l.bonus.mensagens.aoUsarBonus,"onUpdate:modelValue":e[31]||(e[31]=o=>l.bonus.mensagens.aoUsarBonus=o),dense:"",filled:"",tipo:"textoArea",rotulo:"Ao cliente usar o b\xF4nus"},null,8,["modelValue"]),a(V,{text:"regular"},{default:s(()=>[e[105]||(e[105]=n(" Voc\xEA pode usar os seguintes argumentos na mensagem para deixar ainda mais personalizada: ")),a(y,{onClick:e[32]||(e[32]=()=>{l.bonus.mensagens.aoUsarBonus+=" [NomeCliente]"}),dense:"",flat:"","no-caps":"",label:"[NomeCliente]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[33]||(e[33]=()=>{l.bonus.mensagens.aoUsarBonus+=" [NomeEmpresa]"}),class:"captalize",dense:"",flat:"","no-caps":"",label:"[NomeEmpresa]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[34]||(e[34]=()=>{l.bonus.mensagens.aoUsarBonus+=" [ApelidoEmpresa]"}),dense:"",flat:"","no-caps":"",label:"[ApelidoEmpresa]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[35]||(e[35]=()=>{l.bonus.mensagens.aoUsarBonus+=" [DataVencimento]"}),dense:"",flat:"","no-caps":"",label:"[DataVencimento]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[36]||(e[36]=()=>{l.bonus.mensagens.aoUsarBonus+=" [CPF]"}),class:"captalize",dense:"",flat:"","no-caps":"",label:"[CPF]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[37]||(e[37]=()=>{l.bonus.mensagens.aoUsarBonus+=" [WhatsApp]"}),dense:"",flat:"","no-caps":"",label:"[WhatsApp]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[38]||(e[38]=()=>{l.bonus.mensagens.aoUsarBonus+=" [Valor]"}),dense:"",flat:"","no-caps":"",label:"[Valor]",style:{"font-size":"0.75rem"}}),a(y,{onClick:e[39]||(e[39]=()=>{l.bonus.mensagens.aoUsarBonus+=" [ValorMinimoCompra]"}),dense:"",flat:"","no-caps":"",label:"[ValorMinimoCompra]",style:{"font-size":"0.75rem"}}),e[106]||(e[106]=i("br",null,null,-1)),e[107]||(e[107]=i("strong",null,"*",-1)),e[108]||(e[108]=n(" Esse texto ser\xE1 enviado por WhatsApp ao cliente, quando for utilizado o b\xF4nus. "))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(Ve,{class:"bg-light border-top q-px-md q-py-sm text-right"},{default:s(()=>{var o;return[((o=l.bonus)==null?void 0:o.removido)===0?(u(),c(y,{key:0,onClick:e[41]||(e[41]=f=>p.removerBonus(l.bonus)),flat:"",round:"",dense:"",icon:"delete",color:"tertiary",class:"float-left"})):b("",!0),a(y,{onClick:e[42]||(e[42]=f=>p.fecharBonus()),flat:"",label:"Cancelar",color:"tertiary"}),a(y,{type:"submit",unelevated:"",dark:"",color:"primary",label:"Salvar",class:"q-ml-sm"})]}),_:1})]),_:1})]),_:1},8,["style"])]),_:1},8,["modelValue","maximized"]),a(ce,{modelValue:l.removidos,"onUpdate:modelValue":e[46]||(e[46]=o=>l.removidos=o),maximized:""},{default:s(()=>[a(ie,{container:"",view:"hHh LpR fFf",class:"bg-white rounded-borders"},{default:s(()=>[a(re,null,{default:s(()=>[a(ue,{class:"q-px-sm"},{default:s(()=>[le(a(y,{icon:"arrow_back",dense:"",flat:"",round:""},null,512),[[te]]),a(J,{class:"hideonmobile"},{default:s(()=>e[109]||(e[109]=[n("Configura\xE7\xF5es de B\xF4nus Removidos")])),_:1}),a(J,{class:"hideondesktop"},{default:s(()=>e[110]||(e[110]=[n("Config. B\xF4nus Removidos")])),_:1})]),_:1})]),_:1}),a(me,null,{default:s(()=>[a(pe,null,{default:s(()=>[a(K,{bordered:"",class:"bg-white q-mb-xs rounded-borders"},{default:s(()=>[l.listaRemovidos.length?(u(!0),R(I,{key:0},W(l.listaRemovidos,o=>(u(),R("div",{key:o.id,class:"itemHover"},[o.id?(u(),c(A,{key:0,"manual-focus":"",class:"q-py-sm q-px-xs items-center"},{default:s(()=>[a(d,{class:"hideonmobile col-auto no-margin"},{default:s(()=>[i("div",Pe,[a(N,{id:o.id,numero:o.id.slice(-8),escuro:"",cor:o.ativo?"positive":"tertiary",dica:"ID Config. B\xF4nus"},null,8,["id","numero","cor"])])]),_:2},1024),a(d,{class:"col-xs col-sm no-margin"},{default:s(()=>[a(A,{class:"q-pa-none"},{default:s(()=>[a(d,{class:"col-auto items-center cursor-pointer"},{default:s(()=>[a(P,{rotulo:`${o.empresa||"Todas as empresas"}`,tamanho:"40",style:{display:"flex","align-self":"center"}},null,8,["rotulo"])]),_:2},1024),a(d,{class:"col"},{default:s(()=>[a(g,{lines:"2",class:"cursor-pointer"},{default:s(()=>[i("span",null,[i("span",_e,m(o.empresa||"Todas as empresas"),1),e[112]||(e[112]=i("span",{class:"q-px-sm"},"-",-1)),i("span",null,m(o.percentual)+"%",1),a(B,{anchor:"bottom start",self:"center start"},{default:s(()=>e[111]||(e[111]=[n("Descri\xE7\xE3o")])),_:1})])]),_:2},1024),o.cnpjEmpresa?(u(),c(g,{key:0,caption:"",class:"cursor-pointer"},{default:s(()=>[i("span",null,[n(m(o.cnpjEmpresa)+" ",1),a(B,{anchor:"bottom start",self:"center start"},{default:s(()=>e[113]||(e[113]=[n("CNPJ")])),_:1})])]),_:2},1024)):b("",!0),a(d,{class:"hideondesktop q-mt-xs"},{default:s(()=>[a(N,{id:o.id,numero:o.id.slice(-8),escuro:"",cor:o.ativo?"positive":"tertiary",dica:"ID Config. B\xF4nus",class:"col-auto q-mr-auto"},null,8,["id","numero","cor"]),a(A,{class:"no-padding no-margin",style:{"min-height":"20px"}},{default:s(()=>[a(d,{class:"no-margin text-weight-medium"},{default:s(()=>[o.vigenciaDe?(u(),c(g,{key:0,caption:""},{default:s(()=>[a(q,{name:"mdi-calendar-today"}),n(" "+m(t.$filters.data(o.vigenciaDe)),1)]),_:2},1024)):b("",!0)]),_:2},1024),a(d,{class:"no-margin text-weight-medium"},{default:s(()=>[o.vigenciaAte?(u(),c(g,{key:0,caption:""},{default:s(()=>[a(q,{name:"mdi-calendar"}),n(" "+m(t.$filters.data(o.vigenciaAte)),1)]),_:2},1024)):b("",!0)]),_:2},1024)]),_:2},1024),a(A,{class:"no-padding no-margin",style:{"min-height":"10px"}},{default:s(()=>[a(d,{class:"no-margin"},{default:s(()=>[o.diasExpiracao?(u(),c(g,{key:0,caption:""},{default:s(()=>[e[114]||(e[114]=n(" Expira em: ")),i("span",Qe,m(o.diasExpiracao),1)]),_:2},1024)):b("",!0)]),_:2},1024),a(d,{class:"no-margin"},{default:s(()=>[o.diasMinimoUso?(u(),c(g,{key:0,caption:""},{default:s(()=>[e[115]||(e[115]=n(" Dias m\xEDnimo: ")),i("span",He,m(o.diasMinimoUso),1)]),_:2},1024)):b("",!0)]),_:2},1024)]),_:2},1024),a(A,{class:"no-padding no-margin",style:{"min-height":"32px"}},{default:s(()=>[a(d,{class:"maxw50 no-margin"},{default:s(()=>[o.percentual?(u(),c(g,{key:0},{default:s(()=>[a(j,{rotulo:o.percentual+"%",escuro:"",dica:"Percentual da venda",cor:"tertiary"},null,8,["rotulo"])]),_:2},1024)):b("",!0)]),_:2},1024),a(d,{class:"col-auto no-margin"},{default:s(()=>[o.valorMaximo?(u(),c(g,{key:0,caption:"",class:"text-right"},{default:s(()=>[e[116]||(e[116]=n(" Valor m\xE1ximo: ")),i("span",Ie,m(t.$filters.numero(o.valorMaximo,2)),1)]),_:2},1024)):b("",!0),o.valorMinimo?(u(),c(g,{key:1,caption:"",class:"text-right"},{default:s(()=>[e[117]||(e[117]=n(" Valor m\xEDnimo: ")),i("span",We,m(t.$filters.numero(o.valorMinimo,2)),1)]),_:2},1024)):b("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024),a(d,{class:"hideonmobile maxw100 no-margin cursor-pointer"},{default:s(()=>[o.vigenciaDe?(u(),c(g,{key:0,caption:"",class:"text-center text-weight-medium"},{default:s(()=>[i("span",null,[a(q,{name:"mdi-calendar-today"}),n(" "+m(t.$filters.data(o.vigenciaDe))+" ",1),a(B,{anchor:"bottom middle",self:"center middle"},{default:s(()=>e[118]||(e[118]=[n("Vig\xEAncia de")])),_:1})])]),_:2},1024)):b("",!0),o.vigenciaAte?(u(),c(g,{key:1,caption:"",class:"text-center text-weight-medium"},{default:s(()=>[i("span",null,[a(q,{name:"mdi-calendar"}),n(" "+m(t.$filters.data(o.vigenciaAte))+" ",1),a(B,{anchor:"bottom middle",self:"center middle"},{default:s(()=>e[119]||(e[119]=[n("Vig\xEAncia at\xE9")])),_:1})])]),_:2},1024)):b("",!0)]),_:2},1024),a(d,{class:"hideonmobile maxw110 q-pl-sm no-margin cursor-pointer"},{default:s(()=>[o.diasExpiracao?(u(),c(g,{key:0,caption:""},{default:s(()=>[e[120]||(e[120]=n(" Expira em: ")),i("span",Je,m(o.diasExpiracao),1)]),_:2},1024)):b("",!0),o.diasMinimoUso?(u(),c(g,{key:1,caption:""},{default:s(()=>[e[121]||(e[121]=n(" Dias m\xEDnimo: ")),i("span",Ke,m(o.diasMinimoUso),1)]),_:2},1024)):b("",!0)]),_:2},1024),a(d,{class:"hideonmobile maxw50 q-pl-sm no-margin"},{default:s(()=>[o.percentual?(u(),c(g,{key:0},{default:s(()=>[a(j,{rotulo:o.percentual+"%",escuro:"",dica:"Percentual da venda",cor:"tertiary"},null,8,["rotulo"])]),_:2},1024)):b("",!0)]),_:2},1024),a(d,{class:"hideonmobile maxw100 q-pl-sm no-margin"},{default:s(()=>[o.valorMaximo?(u(),c(g,{key:0,caption:"",class:"text-weight-bold text-right"},{default:s(()=>[i("span",null,[n(m(t.$filters.numero(o.valorMaximo,2))+" ",1),a(B,{anchor:"bottom middle",self:"center middle"},{default:s(()=>e[122]||(e[122]=[n(" Valor m\xE1ximo ")])),_:1})])]),_:2},1024)):b("",!0),o.valorMinimo?(u(),c(g,{key:1,caption:"",class:"text-weight-medium text-right"},{default:s(()=>[i("span",null,[n(m(t.$filters.numero(o.valorMinimo,2))+" ",1),a(B,{anchor:"bottom middle",self:"center middle"},{default:s(()=>e[123]||(e[123]=[n(" Valor m\xEDnimo ")])),_:1})])]),_:2},1024)):b("",!0)]),_:2},1024),a(d,{class:"col-auto no-margin"},{default:s(()=>[a(A,{class:"q-pa-none"},{default:s(()=>[a(d,{class:"no-margin"},{default:s(()=>[a(y,{onClick:f=>p.restaurarBonus(o),round:"",flat:"",dense:"",icon:"restore_from_trash",size:"md",color:"primary"},null,8,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):b("",!0),o.id?(u(),c(ne,{key:1})):b("",!0)]))),128)):(u(),c(A,{key:1},{default:s(()=>[a(d,null,{default:s(()=>[a(g,{class:"text-center"},{default:s(()=>e[124]||(e[124]=[n(" N\xE3o h\xE1 configura\xE7\xF5es de b\xF4nus removidas. ")])),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])])}var $e=be(he,[["render",Ge],["__scopeId","data-v-20af9f4f"]]);export{$e as default};
